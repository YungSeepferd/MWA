import{S as K,i as Y,s as Q,k as g,a as T,q as S,l as v,m as y,c as C,r as x,h as m,n as p,C as G,b as F,D as i,E as fe,u as P,F as J,o as se,G as me,H as ae,I as _e,e as Z,v as pe,d as q,f as he,g as z,J as ne,K as oe,L as le,M as re,y as ce,N as ge,z as ie,A as de,B as ue}from"../chunks/index.3da97a40.js";import{w as I}from"../chunks/api.f5325af4.js";function ee(d,e,t){const a=d.slice();return a[13]=e[t],a}function te(d,e){let t,a,n,o,s=e[4](e[13].type)+"",l,c,_,b=e[13].message+"",r,f,h,$,N,u,D=e[13].timestamp.toLocaleTimeString("de-DE")+"",E,M,V,L,W;function A(){return e[5](e[13])}return{key:d,first:null,c(){t=g("div"),a=g("div"),n=g("div"),o=g("span"),l=S(s),c=T(),_=g("span"),r=S(b),f=T(),h=g("button"),$=S("Ã—"),N=T(),u=g("div"),E=S(D),M=T(),this.h()},l(w){t=v(w,"DIV",{class:!0,role:!0});var k=y(t);a=v(k,"DIV",{class:!0});var B=y(a);n=v(B,"DIV",{class:!0});var R=y(n);o=v(R,"SPAN",{class:!0});var j=y(o);l=x(j,s),j.forEach(m),c=C(R),_=v(R,"SPAN",{class:!0});var H=y(_);r=x(H,b),H.forEach(m),R.forEach(m),f=C(B),h=v(B,"BUTTON",{class:!0,"aria-label":!0});var U=y(h);$=x(U,"Ã—"),U.forEach(m),B.forEach(m),N=C(k),u=v(k,"DIV",{class:!0});var O=y(u);E=x(O,D),O.forEach(m),M=C(k),k.forEach(m),this.h()},h(){p(o,"class","text-sm font-medium"),p(_,"class","text-sm"),p(n,"class","flex items-center space-x-2"),p(h,"class","text-gray-500 hover:text-gray-700 text-sm"),p(h,"aria-label","Dismiss notification"),p(a,"class","flex items-center justify-between"),p(u,"class","text-xs text-gray-600 mt-1"),p(t,"class",V=G(`p-3 rounded-lg border shadow-sm transition-all duration-300 ${e[3](e[13].type)}`)+" svelte-125dlm3"),p(t,"role","alert"),this.first=t},m(w,k){F(w,t,k),i(t,a),i(a,n),i(n,o),i(o,l),i(n,c),i(n,_),i(_,r),i(a,f),i(a,h),i(h,$),i(t,N),i(t,u),i(u,E),i(t,M),L||(W=ae(h,"click",A),L=!0)},p(w,k){e=w,k&1&&s!==(s=e[4](e[13].type)+"")&&P(l,s),k&1&&b!==(b=e[13].message+"")&&P(r,b),k&1&&D!==(D=e[13].timestamp.toLocaleTimeString("de-DE")+"")&&P(E,D),k&1&&V!==(V=G(`p-3 rounded-lg border shadow-sm transition-all duration-300 ${e[3](e[13].type)}`)+" svelte-125dlm3")&&p(t,"class",V)},d(w){w&&m(t),L=!1,W()}}}function ve(d){let e,t=[],a=new Map,n,o,s=d[1]?"ðŸŸ¢ Connected":"ðŸŸ¡ Connecting...",l,c,_=d[0];const b=r=>r[13].id;for(let r=0;r<_.length;r+=1){let f=ee(d,_,r),h=b(f);a.set(h,t[r]=te(h,f))}return{c(){e=g("div");for(let r=0;r<t.length;r+=1)t[r].c();n=T(),o=g("div"),l=S(s),this.h()},l(r){e=v(r,"DIV",{class:!0});var f=y(e);for(let $=0;$<t.length;$+=1)t[$].l(f);n=C(f),o=v(f,"DIV",{class:!0});var h=y(o);l=x(h,s),h.forEach(m),f.forEach(m),this.h()},h(){p(o,"class",c=G(`p-2 rounded-lg border text-xs ${d[1]?"bg-green-50 border-green-200 text-green-800":"bg-yellow-50 border-yellow-200 text-yellow-800"}`)+" svelte-125dlm3"),p(e,"class","fixed top-4 right-4 z-50 space-y-2 max-w-sm")},m(r,f){F(r,e,f);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);i(e,n),i(e,o),i(o,l)},p(r,[f]){f&29&&(_=r[0],t=fe(t,f,b,1,r,_,a,e,_e,te,n,ee)),f&2&&s!==(s=r[1]?"ðŸŸ¢ Connected":"ðŸŸ¡ Connecting...")&&P(l,s),f&2&&c!==(c=G(`p-2 rounded-lg border text-xs ${r[1]?"bg-green-50 border-green-200 text-green-800":"bg-yellow-50 border-yellow-200 text-yellow-800"}`)+" svelte-125dlm3")&&p(o,"class",c)},i:J,o:J,d(r){r&&m(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function be(d,e,t){let a=[],n=1,o=!1;se(async()=>{try{await I.connect(),t(1,o=!0),I.on("contact_created",s),I.on("contact_updated",l),I.on("contact_deleted",c),I.on("analytics_updated",_),I.on("system_notification",b)}catch(u){console.error("Failed to connect to WebSocket:",u),r("Failed to connect to real-time updates","error")}}),me(()=>{I.off("contact_created",s),I.off("contact_updated",l),I.off("contact_deleted",c),I.off("analytics_updated",_),I.off("system_notification",b),I.disconnect()});const s=u=>{r(`New contact created: ${u.name}`,"success")},l=u=>{r(`Contact updated: ${u.name}`,"info")},c=u=>{r(`Contact deleted: ${u.name}`,"warning")},_=u=>{r("Analytics data updated","info")},b=u=>{r(u.message,u.type||"info")},r=(u,D="info")=>{const E=n++;a.push({id:E,message:u,type:D,timestamp:new Date}),setTimeout(()=>{f(E)},5e3)},f=u=>{t(0,a=a.filter(D=>D.id!==u))};return[a,o,f,u=>{switch(u){case"success":return"bg-green-50 border-green-200 text-green-800";case"error":return"bg-red-50 border-red-200 text-red-800";case"warning":return"bg-yellow-50 border-yellow-200 text-yellow-800";case"info":return"bg-blue-50 border-blue-200 text-blue-800";default:return"bg-gray-50 border-gray-200 text-gray-800"}},u=>{switch(u){case"success":return"âœ“";case"error":return"âœ—";case"warning":return"âš ";case"info":return"â„¹";default:return"â€¢"}},u=>f(u.id)]}class ye extends K{constructor(e){super(),Y(this,e,be,ve,Q,{})}}function $e(d){let e;const t=d[3].default,a=ne(t,d,d[2],null);return{c(){a&&a.c()},l(n){a&&a.l(n)},m(n,o){a&&a.m(n,o),e=!0},p(n,o){a&&a.p&&(!e||o&4)&&oe(a,t,n,n[2],e?re(t,n[2],o,null):le(n[2]),null)},i(n){e||(z(a,n),e=!0)},o(n){q(a,n),e=!1},d(n){a&&a.d(n)}}}function we(d){let e,t,a,n,o,s,l,c=d[0].message+"",_,b,r,f,h,$,N,u,D,E,M=d[0].stack+"",V,L,W;return{c(){e=g("div"),t=g("div"),a=g("div"),n=g("h3"),o=S("Something went wrong"),s=T(),l=g("p"),_=S(c),b=T(),r=g("button"),f=S("Try Again"),h=T(),$=g("details"),N=g("summary"),u=S("Technical Details"),D=T(),E=g("pre"),V=S(M),this.h()},l(A){e=v(A,"DIV",{class:!0});var w=y(e);t=v(w,"DIV",{class:!0});var k=y(t);a=v(k,"DIV",{});var B=y(a);n=v(B,"H3",{class:!0});var R=y(n);o=x(R,"Something went wrong"),R.forEach(m),s=C(B),l=v(B,"P",{class:!0});var j=y(l);_=x(j,c),j.forEach(m),B.forEach(m),b=C(k),r=v(k,"BUTTON",{class:!0});var H=y(r);f=x(H,"Try Again"),H.forEach(m),k.forEach(m),h=C(w),$=v(w,"DETAILS",{class:!0});var U=y($);N=v(U,"SUMMARY",{class:!0});var O=y(N);u=x(O,"Technical Details"),O.forEach(m),D=C(U),E=v(U,"PRE",{class:!0});var X=y(E);V=x(X,M),X.forEach(m),U.forEach(m),w.forEach(m),this.h()},h(){p(n,"class","text-lg font-medium text-red-800"),p(l,"class","text-red-600 mt-1"),p(r,"class","bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm"),p(t,"class","flex items-center justify-between"),p(N,"class","cursor-pointer text-red-700 text-sm"),p(E,"class","bg-red-100 p-2 rounded text-xs mt-2 overflow-auto"),p($,"class","mt-3"),p(e,"class","error-boundary bg-red-50 border border-red-200 rounded-lg p-4 m-4 svelte-gvwm50")},m(A,w){F(A,e,w),i(e,t),i(t,a),i(a,n),i(n,o),i(a,s),i(a,l),i(l,_),i(t,b),i(t,r),i(r,f),i(e,h),i(e,$),i($,N),i(N,u),i($,D),i($,E),i(E,V),L||(W=ae(r,"click",d[1]),L=!0)},p(A,w){w&1&&c!==(c=A[0].message+"")&&P(_,c),w&1&&M!==(M=A[0].stack+"")&&P(V,M)},i:J,o:J,d(A){A&&m(e),L=!1,W()}}}function ke(d){let e,t,a,n;const o=[we,$e],s=[];function l(c,_){return c[0]?0:1}return e=l(d),t=s[e]=o[e](d),{c(){t.c(),a=Z()},l(c){t.l(c),a=Z()},m(c,_){s[e].m(c,_),F(c,a,_),n=!0},p(c,[_]){let b=e;e=l(c),e===b?s[e].p(c,_):(pe(),q(s[b],1,1,()=>{s[b]=null}),he(),t=s[e],t?t.p(c,_):(t=s[e]=o[e](c),t.c()),z(t,1),t.m(a.parentNode,a))},i(c){n||(z(t),n=!0)},o(c){q(t),n=!1},d(c){s[e].d(c),c&&m(a)}}}function Ee(d,e,t){let{$$slots:a={},$$scope:n}=e,o=null;se(()=>{});const s=()=>{t(0,o=null)};return d.$$set=l=>{"$$scope"in l&&t(2,n=l.$$scope)},[o,s,n,a]}class De extends K{constructor(e){super(),Y(this,e,Ee,ke,Q,{})}}function Ie(d){let e,t,a;e=new ye({});const n=d[0].default,o=ne(n,d,d[1],null);return{c(){ce(e.$$.fragment),t=T(),o&&o.c()},l(s){ie(e.$$.fragment,s),t=C(s),o&&o.l(s)},m(s,l){de(e,s,l),F(s,t,l),o&&o.m(s,l),a=!0},p(s,l){o&&o.p&&(!a||l&2)&&oe(o,n,s,s[1],a?re(n,s[1],l,null):le(s[1]),null)},i(s){a||(z(e.$$.fragment,s),z(o,s),a=!0)},o(s){q(e.$$.fragment,s),q(o,s),a=!1},d(s){ue(e,s),s&&m(t),o&&o.d(s)}}}function Ne(d){let e,t,a,n,o;return n=new De({props:{$$slots:{default:[Ie]},$$scope:{ctx:d}}}),{c(){e=g("meta"),t=g("meta"),a=T(),ce(n.$$.fragment),this.h()},l(s){const l=ge("svelte-129uzdq",document.head);e=v(l,"META",{name:!0,content:!0}),t=v(l,"META",{name:!0,content:!0}),l.forEach(m),a=C(s),ie(n.$$.fragment,s),this.h()},h(){document.title="MWA Market Intelligence",p(e,"name","viewport"),p(e,"content","width=device-width, initial-scale=1.0"),p(t,"name","description"),p(t,"content","Market Intelligence Dashboard for MWA - Real-time contact management and analytics")},m(s,l){i(document.head,e),i(document.head,t),F(s,a,l),de(n,s,l),o=!0},p(s,[l]){const c={};l&2&&(c.$$scope={dirty:l,ctx:s}),n.$set(c)},i(s){o||(z(n.$$.fragment,s),o=!0)},o(s){q(n.$$.fragment,s),o=!1},d(s){m(e),m(t),s&&m(a),ue(n,s)}}}function Te(d,e,t){let{$$slots:a={},$$scope:n}=e;return d.$$set=o=>{"$$scope"in o&&t(1,n=o.$$scope)},[a,n]}class Se extends K{constructor(e){super(),Y(this,e,Te,Ne,Q,{})}}export{Se as component};

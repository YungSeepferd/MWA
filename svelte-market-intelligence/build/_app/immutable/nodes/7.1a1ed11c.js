import{S as wr,i as kr,s as Sr,a1 as Er,k as n,q as S,a as g,l as o,m as u,r as D,h as c,c as b,n as a,$ as ut,b as Se,D as e,X as le,H as V,a2 as Dr,a3 as Xe,u as Qe,F as or,Q as ht,P as Pr,T as Ir}from"../chunks/index.3da97a40.js";import{p as xr}from"../chunks/parse.492575b6.js";import{j as Ar}from"../chunks/singletons.71d606f7.js";import{i as Tr}from"../chunks/navigation.e2e23cce.js";async function Lr({fetch:t}){try{const[r,l]=await Promise.all([t("/api/v1/search/providers").catch(()=>({ok:!1})),t("/api/v1/search/amenities").catch(()=>({ok:!1}))]),h=r.ok?await r.json():[{id:"immoscout",name:"ImmobilienScout24",enabled:!0},{id:"wg_gesucht",name:"WG-Gesucht",enabled:!0},{id:"immowelt",name:"ImmoWelt",enabled:!1}],s=l.ok?await l.json():[{id:"balcony",name:"Balcony",category:"outdoor"},{id:"garden",name:"Garden",category:"outdoor"},{id:"parking",name:"Parking",category:"parking"},{id:"garage",name:"Garage",category:"parking"},{id:"elevator",name:"Elevator",category:"building"},{id:"furnished",name:"Furnished",category:"interior"},{id:"kitchen",name:"Kitchen",category:"interior"},{id:"washing_machine",name:"Washing Machine",category:"appliances"}];return{providers:h,amenities:s}}catch(r){return console.error("Error loading search form data:",r),{providers:[],amenities:[]}}}const Rr=Object.freeze(Object.defineProperty({__proto__:null,load:Lr},Symbol.toStringTag,{value:"Module"}));function Nr(t){return Ar.apply_action(t)}function Vr(t){const r=JSON.parse(t);return r.data&&(r.data=xr(r.data)),r}function ir(t){return HTMLElement.prototype.cloneNode.call(t)}function Br(t,r=()=>{}){const l=async({action:s,result:p,reset:y=!0,invalidateAll:E=!0})=>{p.type==="success"&&(y&&HTMLFormElement.prototype.reset.call(t),E&&await Tr()),(location.origin+location.pathname===s.origin+s.pathname||p.type==="redirect"||p.type==="error")&&Nr(p)};async function h(s){if((s.submitter?.hasAttribute("formmethod")?s.submitter.formMethod:ir(t).method)!=="post")return;s.preventDefault();const y=new URL(s.submitter?.hasAttribute("formaction")?s.submitter.formAction:ir(t).action),E=new FormData(t),k=s.submitter?.getAttribute("name");k&&E.append(k,s.submitter?.getAttribute("value")??"");const _=new AbortController;let v=!1;const f=await r({action:y,cancel:()=>v=!0,controller:_,get data(){return E},formData:E,get form(){return t},formElement:t,submitter:s.submitter})??l;if(v)return;let m;try{const P=await fetch(y,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:E,signal:_.signal});m=Vr(await P.text()),m.type==="error"&&(m.status=P.status)}catch(P){if(P?.name==="AbortError")return;m={type:"error",error:P}}f({action:y,get data(){return E},formData:E,get form(){return t},formElement:t,update:P=>l({action:y,result:m,reset:P?.reset,invalidateAll:P?.invalidateAll}),result:m})}return HTMLFormElement.prototype.addEventListener.call(t,"submit",h),{destroy(){HTMLFormElement.prototype.removeEventListener.call(t,"submit",h)}}}function cr(t,r,l){const h=t.slice();return h[32]=r[l][0],h[33]=r[l][1],h}function dr(t,r,l){const h=t.slice();return h[36]=r[l],h}function ur(t,r,l){const h=t.slice();return h[39]=r[l],h}function hr(t,r,l){const h=t.slice();return h[42]=r[l],h}function mr(t,r,l){const h=t.slice();return h[45]=r[l],h}function fr(t){let r,l,h,s,p,y,E,k,_,v;return k=Er(t[20][1]),{c(){r=n("label"),l=n("input"),h=g(),s=n("span"),p=S(t[45]),y=S("+ rooms"),E=g(),this.h()},l(I){r=o(I,"LABEL",{class:!0});var f=u(r);l=o(f,"INPUT",{type:!0,name:!0,class:!0}),h=b(f),s=o(f,"SPAN",{class:!0});var m=u(s);p=D(m,t[45]),y=D(m,"+ rooms"),m.forEach(c),E=b(f),f.forEach(c),this.h()},h(){a(l,"type","radio"),a(l,"name","rooms"),l.__value=t[45],l.value=l.__value,a(l,"class","mr-2"),a(s,"class","text-sm text-gray-700"),a(r,"class","flex items-center"),k.p(l)},m(I,f){Se(I,r,f),e(r,l),l.checked=l.__value===t[1].min_rooms,e(r,h),e(r,s),e(s,p),e(s,y),e(r,E),_||(v=V(l,"change",t[19]),_=!0)},p(I,f){f[0]&2&&(l.checked=l.__value===I[1].min_rooms)},d(I){I&&c(r),k.r(),_=!1,v()}}}function pr(t){let r,l,h=t[42].code+"",s,p,y,E=t[42].name+"",k,_,v,I;function f(){return t[21](t[42])}return{c(){r=n("button"),l=n("div"),s=S(h),p=g(),y=n("div"),k=S(E),_=g(),this.h()},l(m){r=o(m,"BUTTON",{type:!0,class:!0});var P=u(r);l=o(P,"DIV",{class:!0});var A=u(l);s=D(A,h),A.forEach(c),p=b(P),y=o(P,"DIV",{class:!0});var G=u(y);k=D(G,E),G.forEach(c),_=b(P),P.forEach(c),this.h()},h(){a(l,"class","text-sm font-medium text-gray-900"),a(y,"class","text-xs text-gray-600 truncate"),a(r,"type","button"),a(r,"class","p-3 border border-gray-300 rounded-lg text-center hover:bg-gray-50 transition-colors svelte-1n7jv6a"),ut(r,"selected",t[4].has(t[42].id))},m(m,P){Se(m,r,P),e(r,l),e(l,s),e(r,p),e(r,y),e(y,k),e(r,_),v||(I=V(r,"click",f),v=!0)},p(m,P){t=m},d(m){m&&c(r),v=!1,I()}}}function _r(t){let r,l;return{c(){r=n("span"),l=S("Coming Soon"),this.h()},l(h){r=o(h,"SPAN",{class:!0});var s=u(r);l=D(s,"Coming Soon"),s.forEach(c),this.h()},h(){a(r,"class","ml-2 px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded")},m(h,s){Se(h,r,s),e(r,l)},d(h){h&&c(r)}}}function vr(t){let r,l,h,s,p,y=t[39].name+"",E,k,_,v,I;function f(){return t[23](t[39])}let m=!t[39].enabled&&_r();return{c(){r=n("label"),l=n("input"),s=g(),p=n("span"),E=S(y),k=g(),m&&m.c(),_=g(),this.h()},l(P){r=o(P,"LABEL",{class:!0});var A=u(r);l=o(A,"INPUT",{type:!0,class:!0}),s=b(A),p=o(A,"SPAN",{class:!0});var G=u(p);E=D(G,y),G.forEach(c),k=b(A),m&&m.l(A),_=b(A),A.forEach(c),this.h()},h(){a(l,"type","checkbox"),l.checked=h=t[1].providers.includes(t[39].id),a(l,"class","mr-3"),a(p,"class","text-sm font-medium text-gray-700"),a(r,"class","flex items-center p-3 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer")},m(P,A){Se(P,r,A),e(r,l),e(r,s),e(r,p),e(p,E),e(r,k),m&&m.m(r,null),e(r,_),v||(I=V(l,"change",f),v=!0)},p(P,A){t=P,A[0]&3&&h!==(h=t[1].providers.includes(t[39].id))&&(l.checked=h),A[0]&1&&y!==(y=t[39].name+"")&&Qe(E,y),t[39].enabled?m&&(m.d(1),m=null):m||(m=_r(),m.c(),m.m(r,_))},d(P){P&&c(r),m&&m.d(),v=!1,I()}}}function gr(t){let r,l,h,s,p,y=t[36].name+"",E,k,_,v;function I(){return t[24](t[36])}return{c(){r=n("label"),l=n("input"),s=g(),p=n("span"),E=S(y),k=g(),this.h()},l(f){r=o(f,"LABEL",{class:!0});var m=u(r);l=o(m,"INPUT",{type:!0,class:!0}),s=b(m),p=o(m,"SPAN",{class:!0});var P=u(p);E=D(P,y),P.forEach(c),k=b(m),m.forEach(c),this.h()},h(){a(l,"type","checkbox"),l.checked=h=t[1].amenities.includes(t[36].id),a(l,"class","mr-2"),a(p,"class","text-sm text-gray-700"),a(r,"class","flex items-center")},m(f,m){Se(f,r,m),e(r,l),e(r,s),e(r,p),e(p,E),e(r,k),_||(v=V(l,"change",I),_=!0)},p(f,m){t=f,m[0]&2&&h!==(h=t[1].amenities.includes(t[36].id))&&(l.checked=h)},d(f){f&&c(r),_=!1,v()}}}function br(t){let r,l,h=t[32]+"",s,p,y,E,k=t[33],_=[];for(let v=0;v<k.length;v+=1)_[v]=gr(dr(t,k,v));return{c(){r=n("div"),l=n("h3"),s=S(h),p=g(),y=n("div");for(let v=0;v<_.length;v+=1)_[v].c();E=g(),this.h()},l(v){r=o(v,"DIV",{class:!0});var I=u(r);l=o(I,"H3",{class:!0});var f=u(l);s=D(f,h),f.forEach(c),p=b(I),y=o(I,"DIV",{class:!0});var m=u(y);for(let P=0;P<_.length;P+=1)_[P].l(m);m.forEach(c),E=b(I),I.forEach(c),this.h()},h(){a(l,"class","text-lg font-medium text-gray-900 mb-3 capitalize"),a(y,"class","grid grid-cols-2 md:grid-cols-4 gap-3"),a(r,"class","mb-6")},m(v,I){Se(v,r,I),e(r,l),e(l,s),e(r,p),e(r,y);for(let f=0;f<_.length;f+=1)_[f]&&_[f].m(y,null);e(r,E)},p(v,I){if(I[0]&1154){k=v[33];let f;for(f=0;f<k.length;f+=1){const m=dr(v,k,f);_[f]?_[f].p(m,I):(_[f]=gr(m),_[f].c(),_[f].m(y,null))}for(;f<_.length;f+=1)_[f].d(1);_.length=k.length}},d(v){v&&c(r),ht(_,v)}}}function yr(t){let r,l,h,s,p,y,E;return{c(){r=n("div"),l=n("label"),h=S("Interval (minutes):"),s=g(),p=n("input"),this.h()},l(k){r=o(k,"DIV",{class:!0});var _=u(r);l=o(_,"LABEL",{for:!0,class:!0});var v=u(l);h=D(v,"Interval (minutes):"),v.forEach(c),s=b(_),p=o(_,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),_.forEach(c),this.h()},h(){a(l,"for","custom-interval"),a(l,"class","text-sm text-gray-700"),a(p,"id","custom-interval"),a(p,"type","number"),a(p,"min","5"),a(p,"max","1440"),a(p,"class","w-20 px-2 py-1 border border-gray-300 rounded"),a(r,"class","flex items-center space-x-2")},m(k,_){Se(k,r,_),e(r,l),e(l,h),e(r,s),e(r,p),le(p,t[1].custom_interval),y||(E=V(p,"input",t[28]),y=!0)},p(k,_){_[0]&2&&Xe(p.value)!==k[1].custom_interval&&le(p,k[1].custom_interval)},d(k){k&&c(r),y=!1,E()}}}function Or(t){let r,l,h,s,p,y,E,k,_,v,I,f,m,P,A,G,Ye,T,Y,de,Ze,$e,ue,se,ne,et,tt,z,at,W,he,rt,lt,Z,w,L,De,Vt,q,Bt,Pe,Ie,Ot,Ht,J,Mt,Le,oe,Ut,st=t[1].min_price+"",mt,jt,nt=t[1].max_price+"",ft,Ct,me,Ne,Rt,Ft,xe,zt,K,Ve,Gt,Wt,Be,qt,Jt,Ae,Kt,fe,Qt,Aa=t[4].size+"",Xt,Yt,Zt,pe,Oe,$t,ea,_e,ta,$,He,aa,ra,Me,la,sa,Te,na,ie,Ue,oa,ia,ca,ve,je,da,ua,ce,ee,ge,j,ha,Ce,ma,fa,be,C,pa,Re,_a,va,ye,R,ga,Fe,ba,ya,Ea,Q,Ee,wa,ka,te,ot=t[3]?"Previewing...":"Preview Search",pt,Sa,ae,it=t[3]?"Saving...":"Save Search",_t,Da,re,ct=t[3]?"Starting...":"Start Search",vt,Pa,Ia,Ta,xa=[1,2,3,4,5],X=[];for(let d=0;d<5;d+=1)X[d]=fr(mr(t,xa,d));let ze=t[6],B=[];for(let d=0;d<ze.length;d+=1)B[d]=pr(hr(t,ze,d));let Ge=t[0].providers,O=[];for(let d=0;d<Ge.length;d+=1)O[d]=vr(ur(t,Ge,d));let We=Object.entries(t[7]),H=[];for(let d=0;d<We.length;d+=1)H[d]=br(cr(t,We,d));let M=t[1].schedule_type==="custom"&&yr(t);return Pa=Er(t[20][0]),{c(){r=n("div"),l=n("div"),h=n("div"),s=n("h1"),p=S("Create New Search"),y=g(),E=n("p"),k=S("Configure your apartment search criteria and schedule"),_=g(),v=n("div"),I=n("div"),f=n("button"),m=S("Visual Editor"),P=g(),A=n("button"),G=S("Advanced"),Ye=g(),T=n("form"),Y=n("div"),de=n("h2"),Ze=S("Basic Information"),$e=g(),ue=n("div"),se=n("div"),ne=n("label"),et=S("Search Name"),tt=g(),z=n("input"),at=g(),W=n("div"),he=n("h2"),rt=S("Price Range"),lt=g(),Z=n("div"),w=n("div"),L=n("label"),De=S("Minimum Price (€)"),Vt=g(),q=n("input"),Bt=g(),Pe=n("div"),Ie=n("label"),Ot=S("Maximum Price (€)"),Ht=g(),J=n("input"),Mt=g(),Le=n("div"),oe=n("div"),Ut=S("Price Range: €"),mt=S(st),jt=S(" - €"),ft=S(nt),Ct=g(),me=n("div"),Ne=n("h2"),Rt=S("Rooms"),Ft=g(),xe=n("div");for(let d=0;d<5;d+=1)X[d].c();zt=g(),K=n("div"),Ve=n("h2"),Gt=S("Munich Districts"),Wt=g(),Be=n("p"),qt=S("Select the districts you want to search in"),Jt=g(),Ae=n("div");for(let d=0;d<B.length;d+=1)B[d].c();Kt=g(),fe=n("div"),Qt=S("Selected: "),Xt=S(Aa),Yt=S(" districts"),Zt=g(),pe=n("div"),Oe=n("h2"),$t=S("Move-in Date"),ea=g(),_e=n("input"),ta=g(),$=n("div"),He=n("h2"),aa=S("Providers"),ra=g(),Me=n("p"),la=S("Select the platforms to search on"),sa=g(),Te=n("div");for(let d=0;d<O.length;d+=1)O[d].c();na=g(),ie=n("div"),Ue=n("h2"),oa=S("Amenities"),ia=g();for(let d=0;d<H.length;d+=1)H[d].c();ca=g(),ve=n("div"),je=n("h2"),da=S("Schedule"),ua=g(),ce=n("div"),ee=n("div"),ge=n("label"),j=n("input"),ha=g(),Ce=n("span"),ma=S("Hourly"),fa=g(),be=n("label"),C=n("input"),pa=g(),Re=n("span"),_a=S("Daily"),va=g(),ye=n("label"),R=n("input"),ga=g(),Fe=n("span"),ba=S("Custom"),ya=g(),M&&M.c(),Ea=g(),Q=n("div"),Ee=n("button"),wa=S("Cancel"),ka=g(),te=n("button"),pt=S(ot),Sa=g(),ae=n("button"),_t=S(it),Da=g(),re=n("button"),vt=S(ct),this.h()},l(d){r=o(d,"DIV",{class:!0});var x=u(r);l=o(x,"DIV",{class:!0});var i=u(l);h=o(i,"DIV",{class:!0});var U=u(h);s=o(U,"H1",{class:!0});var La=u(s);p=D(La,"Create New Search"),La.forEach(c),y=b(U),E=o(U,"P",{class:!0});var Na=u(E);k=D(Na,"Configure your apartment search criteria and schedule"),Na.forEach(c),U.forEach(c),_=b(i),v=o(i,"DIV",{class:!0});var Va=u(v);I=o(Va,"DIV",{class:!0});var gt=u(I);f=o(gt,"BUTTON",{class:!0});var Ba=u(f);m=D(Ba,"Visual Editor"),Ba.forEach(c),P=b(gt),A=o(gt,"BUTTON",{class:!0});var Oa=u(A);G=D(Oa,"Advanced"),Oa.forEach(c),gt.forEach(c),Va.forEach(c),Ye=b(i),T=o(i,"FORM",{method:!0,action:!0,class:!0});var N=u(T);Y=o(N,"DIV",{class:!0});var bt=u(Y);de=o(bt,"H2",{class:!0});var Ha=u(de);Ze=D(Ha,"Basic Information"),Ha.forEach(c),$e=b(bt),ue=o(bt,"DIV",{class:!0});var Ma=u(ue);se=o(Ma,"DIV",{});var yt=u(se);ne=o(yt,"LABEL",{for:!0,class:!0});var Ua=u(ne);et=D(Ua,"Search Name"),Ua.forEach(c),tt=b(yt),z=o(yt,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),yt.forEach(c),Ma.forEach(c),bt.forEach(c),at=b(N),W=o(N,"DIV",{class:!0});var qe=u(W);he=o(qe,"H2",{class:!0});var ja=u(he);rt=D(ja,"Price Range"),ja.forEach(c),lt=b(qe),Z=o(qe,"DIV",{class:!0});var Et=u(Z);w=o(Et,"DIV",{});var wt=u(w);L=o(wt,"LABEL",{for:!0,class:!0});var Ca=u(L);De=D(Ca,"Minimum Price (€)"),Ca.forEach(c),Vt=b(wt),q=o(wt,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),wt.forEach(c),Bt=b(Et),Pe=o(Et,"DIV",{});var kt=u(Pe);Ie=o(kt,"LABEL",{for:!0,class:!0});var Ra=u(Ie);Ot=D(Ra,"Maximum Price (€)"),Ra.forEach(c),Ht=b(kt),J=o(kt,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),kt.forEach(c),Et.forEach(c),Mt=b(qe),Le=o(qe,"DIV",{class:!0});var Fa=u(Le);oe=o(Fa,"DIV",{class:!0});var dt=u(oe);Ut=D(dt,"Price Range: €"),mt=D(dt,st),jt=D(dt," - €"),ft=D(dt,nt),dt.forEach(c),Fa.forEach(c),qe.forEach(c),Ct=b(N),me=o(N,"DIV",{class:!0});var St=u(me);Ne=o(St,"H2",{class:!0});var za=u(Ne);Rt=D(za,"Rooms"),za.forEach(c),Ft=b(St),xe=o(St,"DIV",{class:!0});var Ga=u(xe);for(let F=0;F<5;F+=1)X[F].l(Ga);Ga.forEach(c),St.forEach(c),zt=b(N),K=o(N,"DIV",{class:!0});var we=u(K);Ve=o(we,"H2",{class:!0});var Wa=u(Ve);Gt=D(Wa,"Munich Districts"),Wa.forEach(c),Wt=b(we),Be=o(we,"P",{class:!0});var qa=u(Be);qt=D(qa,"Select the districts you want to search in"),qa.forEach(c),Jt=b(we),Ae=o(we,"DIV",{class:!0});var Ja=u(Ae);for(let F=0;F<B.length;F+=1)B[F].l(Ja);Ja.forEach(c),Kt=b(we),fe=o(we,"DIV",{class:!0});var Dt=u(fe);Qt=D(Dt,"Selected: "),Xt=D(Dt,Aa),Yt=D(Dt," districts"),Dt.forEach(c),we.forEach(c),Zt=b(N),pe=o(N,"DIV",{class:!0});var Pt=u(pe);Oe=o(Pt,"H2",{class:!0});var Ka=u(Oe);$t=D(Ka,"Move-in Date"),Ka.forEach(c),ea=b(Pt),_e=o(Pt,"INPUT",{type:!0,class:!0}),Pt.forEach(c),ta=b(N),$=o(N,"DIV",{class:!0});var Je=u($);He=o(Je,"H2",{class:!0});var Qa=u(He);aa=D(Qa,"Providers"),Qa.forEach(c),ra=b(Je),Me=o(Je,"P",{class:!0});var Xa=u(Me);la=D(Xa,"Select the platforms to search on"),Xa.forEach(c),sa=b(Je),Te=o(Je,"DIV",{class:!0});var Ya=u(Te);for(let F=0;F<O.length;F+=1)O[F].l(Ya);Ya.forEach(c),Je.forEach(c),na=b(N),ie=o(N,"DIV",{class:!0});var It=u(ie);Ue=o(It,"H2",{class:!0});var Za=u(Ue);oa=D(Za,"Amenities"),Za.forEach(c),ia=b(It);for(let F=0;F<H.length;F+=1)H[F].l(It);It.forEach(c),ca=b(N),ve=o(N,"DIV",{class:!0});var xt=u(ve);je=o(xt,"H2",{class:!0});var $a=u(je);da=D($a,"Schedule"),$a.forEach(c),ua=b(xt),ce=o(xt,"DIV",{class:!0});var At=u(ce);ee=o(At,"DIV",{class:!0});var Ke=u(ee);ge=o(Ke,"LABEL",{class:!0});var Tt=u(ge);j=o(Tt,"INPUT",{type:!0,name:!0,class:!0}),ha=b(Tt),Ce=o(Tt,"SPAN",{class:!0});var er=u(Ce);ma=D(er,"Hourly"),er.forEach(c),Tt.forEach(c),fa=b(Ke),be=o(Ke,"LABEL",{class:!0});var Lt=u(be);C=o(Lt,"INPUT",{type:!0,name:!0,class:!0}),pa=b(Lt),Re=o(Lt,"SPAN",{class:!0});var tr=u(Re);_a=D(tr,"Daily"),tr.forEach(c),Lt.forEach(c),va=b(Ke),ye=o(Ke,"LABEL",{class:!0});var Nt=u(ye);R=o(Nt,"INPUT",{type:!0,name:!0,class:!0}),ga=b(Nt),Fe=o(Nt,"SPAN",{class:!0});var ar=u(Fe);ba=D(ar,"Custom"),ar.forEach(c),Nt.forEach(c),Ke.forEach(c),ya=b(At),M&&M.l(At),At.forEach(c),xt.forEach(c),Ea=b(N),Q=o(N,"DIV",{class:!0});var ke=u(Q);Ee=o(ke,"BUTTON",{type:!0,class:!0});var rr=u(Ee);wa=D(rr,"Cancel"),rr.forEach(c),ka=b(ke),te=o(ke,"BUTTON",{type:!0,class:!0});var lr=u(te);pt=D(lr,ot),lr.forEach(c),Sa=b(ke),ae=o(ke,"BUTTON",{type:!0,class:!0});var sr=u(ae);_t=D(sr,it),sr.forEach(c),Da=b(ke),re=o(ke,"BUTTON",{type:!0,class:!0});var nr=u(re);vt=D(nr,ct),nr.forEach(c),ke.forEach(c),N.forEach(c),i.forEach(c),x.forEach(c),this.h()},h(){a(s,"class","text-3xl font-bold text-gray-900 mb-2"),a(E,"class","text-gray-600"),a(h,"class","mb-8"),a(f,"class","px-4 py-2 rounded-md transition-colors svelte-1n7jv6a"),ut(f,"active",t[2]==="visual"),a(A,"class","px-4 py-2 rounded-md transition-colors svelte-1n7jv6a"),ut(A,"active",t[2]==="advanced"),a(I,"class","bg-gray-100 rounded-lg p-1 flex"),a(v,"class","flex justify-center mb-6"),a(de,"class","text-xl font-semibold text-gray-900 mb-4"),a(ne,"for","search-name"),a(ne,"class","block text-sm font-medium text-gray-700 mb-2"),a(z,"id","search-name"),a(z,"type","text"),a(z,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"),a(z,"placeholder","My Apartment Search"),z.required=!0,a(ue,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),a(Y,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),a(he,"class","text-xl font-semibold text-gray-900 mb-4"),a(L,"for","min-price"),a(L,"class","block text-sm font-medium text-gray-700 mb-2"),a(q,"id","min-price"),a(q,"type","number"),a(q,"min","0"),a(q,"max","10000"),a(q,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"),a(Ie,"for","max-price"),a(Ie,"class","block text-sm font-medium text-gray-700 mb-2"),a(J,"id","max-price"),a(J,"type","number"),a(J,"min","0"),a(J,"max","10000"),a(J,"class","w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"),a(Z,"class","grid grid-cols-1 md:grid-cols-2 gap-6"),a(oe,"class","text-sm text-gray-600"),a(Le,"class","mt-4"),a(W,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),a(Ne,"class","text-xl font-semibold text-gray-900 mb-4"),a(xe,"class","flex flex-wrap gap-4"),a(me,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),a(Ve,"class","text-xl font-semibold text-gray-900 mb-4"),a(Be,"class","text-sm text-gray-600 mb-4"),a(Ae,"class","grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3"),a(fe,"class","mt-4 text-sm text-gray-600"),a(K,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),a(Oe,"class","text-xl font-semibold text-gray-900 mb-4"),a(_e,"type","date"),a(_e,"class","px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"),a(pe,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),a(He,"class","text-xl font-semibold text-gray-900 mb-4"),a(Me,"class","text-sm text-gray-600 mb-4"),a(Te,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),a($,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),a(Ue,"class","text-xl font-semibold text-gray-900 mb-4"),a(ie,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),a(je,"class","text-xl font-semibold text-gray-900 mb-4"),a(j,"type","radio"),a(j,"name","schedule"),j.__value="hourly",j.value=j.__value,a(j,"class","mr-2"),a(Ce,"class","text-sm text-gray-700"),a(ge,"class","flex items-center"),a(C,"type","radio"),a(C,"name","schedule"),C.__value="daily",C.value=C.__value,a(C,"class","mr-2"),a(Re,"class","text-sm text-gray-700"),a(be,"class","flex items-center"),a(R,"type","radio"),a(R,"name","schedule"),R.__value="custom",R.value=R.__value,a(R,"class","mr-2"),a(Fe,"class","text-sm text-gray-700"),a(ye,"class","flex items-center"),a(ee,"class","flex flex-wrap gap-4"),a(ce,"class","space-y-4"),a(ve,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),a(Ee,"type","button"),a(Ee,"class","px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"),a(te,"type","button"),a(te,"class","px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"),te.disabled=t[3],a(ae,"type","button"),a(ae,"class","px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"),ae.disabled=t[3],a(re,"type","button"),a(re,"class","px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"),re.disabled=t[3],a(Q,"class","flex justify-end space-x-4 pt-6"),a(T,"method","POST"),a(T,"action","?/create"),a(T,"class","space-y-8"),a(l,"class","container mx-auto px-4 py-6 max-w-6xl"),a(r,"class","search-creation"),Pa.p(j,C,R)},m(d,x){Se(d,r,x),e(r,l),e(l,h),e(h,s),e(s,p),e(h,y),e(h,E),e(E,k),e(l,_),e(l,v),e(v,I),e(I,f),e(f,m),e(I,P),e(I,A),e(A,G),e(l,Ye),e(l,T),e(T,Y),e(Y,de),e(de,Ze),e(Y,$e),e(Y,ue),e(ue,se),e(se,ne),e(ne,et),e(se,tt),e(se,z),le(z,t[1].name),e(T,at),e(T,W),e(W,he),e(he,rt),e(W,lt),e(W,Z),e(Z,w),e(w,L),e(L,De),e(w,Vt),e(w,q),le(q,t[1].min_price),e(Z,Bt),e(Z,Pe),e(Pe,Ie),e(Ie,Ot),e(Pe,Ht),e(Pe,J),le(J,t[1].max_price),e(W,Mt),e(W,Le),e(Le,oe),e(oe,Ut),e(oe,mt),e(oe,jt),e(oe,ft),e(T,Ct),e(T,me),e(me,Ne),e(Ne,Rt),e(me,Ft),e(me,xe);for(let i=0;i<5;i+=1)X[i]&&X[i].m(xe,null);e(T,zt),e(T,K),e(K,Ve),e(Ve,Gt),e(K,Wt),e(K,Be),e(Be,qt),e(K,Jt),e(K,Ae);for(let i=0;i<B.length;i+=1)B[i]&&B[i].m(Ae,null);e(K,Kt),e(K,fe),e(fe,Qt),e(fe,Xt),e(fe,Yt),e(T,Zt),e(T,pe),e(pe,Oe),e(Oe,$t),e(pe,ea),e(pe,_e),le(_e,t[1].move_in_date),e(T,ta),e(T,$),e($,He),e(He,aa),e($,ra),e($,Me),e(Me,la),e($,sa),e($,Te);for(let i=0;i<O.length;i+=1)O[i]&&O[i].m(Te,null);e(T,na),e(T,ie),e(ie,Ue),e(Ue,oa),e(ie,ia);for(let i=0;i<H.length;i+=1)H[i]&&H[i].m(ie,null);e(T,ca),e(T,ve),e(ve,je),e(je,da),e(ve,ua),e(ve,ce),e(ce,ee),e(ee,ge),e(ge,j),j.checked=j.__value===t[1].schedule_type,e(ge,ha),e(ge,Ce),e(Ce,ma),e(ee,fa),e(ee,be),e(be,C),C.checked=C.__value===t[1].schedule_type,e(be,pa),e(be,Re),e(Re,_a),e(ee,va),e(ee,ye),e(ye,R),R.checked=R.__value===t[1].schedule_type,e(ye,ga),e(ye,Fe),e(Fe,ba),e(ce,ya),M&&M.m(ce,null),e(T,Ea),e(T,Q),e(Q,Ee),e(Ee,wa),e(Q,ka),e(Q,te),e(te,pt),e(Q,Sa),e(Q,ae),e(ae,_t),e(Q,Da),e(Q,re),e(re,vt),Ia||(Ta=[V(f,"click",t[14]),V(A,"click",t[15]),V(z,"input",t[16]),V(q,"input",t[17]),V(J,"input",t[18]),V(_e,"input",t[22]),V(j,"change",t[25]),V(C,"change",t[26]),V(R,"change",t[27]),V(Ee,"click",t[29]),V(te,"click",t[11]),V(ae,"click",t[12]),V(re,"click",t[13]),Dr(Br.call(null,T))],Ia=!0)},p(d,x){if(x[0]&4&&ut(f,"active",d[2]==="visual"),x[0]&4&&ut(A,"active",d[2]==="advanced"),x[0]&2&&z.value!==d[1].name&&le(z,d[1].name),x[0]&2&&Xe(q.value)!==d[1].min_price&&le(q,d[1].min_price),x[0]&2&&Xe(J.value)!==d[1].max_price&&le(J,d[1].max_price),x[0]&2&&st!==(st=d[1].min_price+"")&&Qe(mt,st),x[0]&2&&nt!==(nt=d[1].max_price+"")&&Qe(ft,nt),x[0]&2){xa=[1,2,3,4,5];let i;for(i=0;i<5;i+=1){const U=mr(d,xa,i);X[i]?X[i].p(U,x):(X[i]=fr(U),X[i].c(),X[i].m(xe,null))}for(;i<5;i+=1)X[i].d(1)}if(x[0]&336){ze=d[6];let i;for(i=0;i<ze.length;i+=1){const U=hr(d,ze,i);B[i]?B[i].p(U,x):(B[i]=pr(U),B[i].c(),B[i].m(Ae,null))}for(;i<B.length;i+=1)B[i].d(1);B.length=ze.length}if(x[0]&2&&le(_e,d[1].move_in_date),x[0]&515){Ge=d[0].providers;let i;for(i=0;i<Ge.length;i+=1){const U=ur(d,Ge,i);O[i]?O[i].p(U,x):(O[i]=vr(U),O[i].c(),O[i].m(Te,null))}for(;i<O.length;i+=1)O[i].d(1);O.length=Ge.length}if(x[0]&1154){We=Object.entries(d[7]);let i;for(i=0;i<We.length;i+=1){const U=cr(d,We,i);H[i]?H[i].p(U,x):(H[i]=br(U),H[i].c(),H[i].m(ie,null))}for(;i<H.length;i+=1)H[i].d(1);H.length=We.length}x[0]&2&&(j.checked=j.__value===d[1].schedule_type),x[0]&2&&(C.checked=C.__value===d[1].schedule_type),x[0]&2&&(R.checked=R.__value===d[1].schedule_type),d[1].schedule_type==="custom"?M?M.p(d,x):(M=yr(d),M.c(),M.m(ce,null)):M&&(M.d(1),M=null),x[0]&8&&ot!==(ot=d[3]?"Previewing...":"Preview Search")&&Qe(pt,ot),x[0]&8&&(te.disabled=d[3]),x[0]&8&&it!==(it=d[3]?"Saving...":"Save Search")&&Qe(_t,it),x[0]&8&&(ae.disabled=d[3]),x[0]&8&&ct!==(ct=d[3]?"Starting...":"Start Search")&&Qe(vt,ct),x[0]&8&&(re.disabled=d[3])},i:or,o:or,d(d){d&&c(r),ht(X,d),ht(B,d),ht(O,d),ht(H,d),M&&M.d(),Pa.r(),Ia=!1,Pr(Ta)}}}function Hr(t,r,l){let{data:h}=r,s={name:"",min_price:500,max_price:2e3,min_rooms:1,districts:[],move_in_date:"",amenities:[],providers:["immoscout","wg_gesucht"],schedule_type:"hourly",custom_interval:60},p=new Set,y="visual",E=!1,k=null,_=!1;const v=Ir(),I=[{id:1,name:"Altstadt-Lehel",code:"01"},{id:2,name:"Ludwigsvorstadt-Isarvorstadt",code:"02"},{id:3,name:"Maxvorstadt",code:"03"},{id:4,name:"Schwabing-West",code:"04"},{id:5,name:"Au-Haidhausen",code:"05"},{id:6,name:"Schwabing-Freimann",code:"06"},{id:7,name:"Neuhausen-Nymphenburg",code:"07"},{id:8,name:"Moosach",code:"08"},{id:9,name:"Milbertshofen-Am Hart",code:"09"},{id:10,name:"Schwanthalerhöhe",code:"10"},{id:11,name:"Laim",code:"11"},{id:12,name:"Thalkirchen-Obersendling-Forstenried",code:"12"},{id:13,name:"Hadern",code:"13"},{id:14,name:"Pasing-Obermenzing",code:"14"},{id:15,name:"Aubing-Lochhausen-Langwied",code:"15"},{id:16,name:"Ramersdorf-Perlach",code:"16"},{id:17,name:"Trudering-Riem",code:"17"},{id:18,name:"Berg am Laim",code:"18"},{id:19,name:"Bogenhausen",code:"19"},{id:20,name:"Untergiesing-Harlaching",code:"20"},{id:21,name:"Thalkirchen-Obersendling-Forstenried-Fürstenried",code:"21"},{id:22,name:"Laim",code:"22"},{id:23,name:"Lohhof",code:"23"},{id:24,name:"Taufkirchen",code:"24"},{id:25,name:"Unterhaching",code:"25"}],f=h.amenities.reduce((w,L)=>{const De=L.category||"other";return w[De]||(w[De]=[]),w[De].push(L),w},{}),m=w=>{p.has(w)?p.delete(w):p.add(w),l(1,s.districts=Array.from(p),s)},P=w=>{const L=new Set(s.providers);L.has(w)?L.delete(w):L.add(w),l(1,s.providers=Array.from(L),s)},A=w=>{const L=new Set(s.amenities);L.has(w)?L.delete(w):L.add(w),l(1,s.amenities=Array.from(L),s)},G=async()=>{try{l(3,E=!0);const w=await fetch("/api/v1/search/preview",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});w.ok&&(k=await w.json(),_=!0)}catch(w){console.error("Error previewing search:",w)}finally{l(3,E=!1)}},Ye=async()=>{try{l(3,E=!0),(await fetch("/api/v1/search/save",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok&&v("navigate",{url:"/search"})}catch(w){console.error("Error saving search:",w)}finally{l(3,E=!1)}},T=async()=>{await G()},Y=[[],[]],de=()=>l(2,y="visual"),Ze=()=>l(2,y="advanced");function $e(){s.name=this.value,l(1,s)}function ue(){s.min_price=Xe(this.value),l(1,s)}function se(){s.max_price=Xe(this.value),l(1,s)}function ne(){s.min_rooms=this.__value,l(1,s)}const et=w=>m(w.id);function tt(){s.move_in_date=this.value,l(1,s)}const z=w=>P(w.id),at=w=>A(w.id);function W(){s.schedule_type=this.__value,l(1,s)}function he(){s.schedule_type=this.__value,l(1,s)}function rt(){s.schedule_type=this.__value,l(1,s)}function lt(){s.custom_interval=Xe(this.value),l(1,s)}const Z=()=>v("navigate",{url:"/search"});return t.$$set=w=>{"data"in w&&l(0,h=w.data)},[h,s,y,E,p,v,I,f,m,P,A,G,Ye,T,de,Ze,$e,ue,se,ne,Y,et,tt,z,at,W,he,rt,lt,Z]}class Fr extends wr{constructor(r){super(),kr(this,r,Hr,Or,Sr,{data:0},null,[-1,-1])}}export{Fr as component,Rr as universal};

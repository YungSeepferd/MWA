import"../chunks/index.8f2ca6db.js";import{S as ra,i as oa,s as ia,k as l,l as r,m as o,h as a,n as i,b as Q,D as e,F as Fe,o as na,w as ca,q as E,a as x,y as Xe,r as j,c as D,z as Je,R as Qt,A as Ke,H as $t,d as Ie,f as Tt,g as we,B as We,P as da,v as Ct,u as de,e as qt,Q as At}from"../chunks/index.3da97a40.js";import{L as kt}from"../chunks/ScoringChart.svelte_svelte_type_style_lang.475579b1.js";import{M as va}from"../chunks/MobileNav.343364e7.js";import{L as Yt}from"../chunks/LineChart.7186ab17.js";async function ma({fetch:_}){try{const t=await _("/api/v1/analytics");if(!t.ok)throw new Error(`API Error: ${t.status} ${t.statusText}`);const s=await t.json(),n=await _("/api/v1/contacts/statistics/summary");let v=null;return n.ok&&(v=await n.json()),{analytics:s,stats:v}}catch(t){console.error("Error loading analytics:",t)}}const Sa=Object.freeze(Object.defineProperty({__proto__:null,load:ma},Symbol.toStringTag,{value:"Module"}));function ha(_){let t,s,n,v;return{c(){t=l("div"),s=l("canvas"),this.h()},l(b){t=r(b,"DIV",{class:!0});var h=o(t);s=r(h,"CANVAS",{width:!0,height:!0,class:!0}),o(s).forEach(a),h.forEach(a),this.h()},h(){i(s,"width",n=_[2][_[0]].width),i(s,"height",v=_[2][_[0]].height),i(s,"class","chart-canvas svelte-10gfzo0"),i(t,"class","pie-chart svelte-10gfzo0")},m(b,h){Q(b,t,h),e(t,s),_[8](s)},p(b,[h]){h&1&&n!==(n=b[2][b[0]].width)&&i(s,"width",n),h&1&&v!==(v=b[2][b[0]].height)&&i(s,"height",v)},i:Fe,o:Fe,d(b){b&&a(t),_[8](null)}}}function fa(_,t,s){let{data:n}=t,{total:v}=t,{size:b="medium"}=t,{showLabels:h=!0}=t,{showPercentages:u=!0}=t,f,c;const p={small:{width:200,height:200,fontSize:10,padding:20},medium:{width:300,height:300,fontSize:12,padding:30},large:{width:400,height:400,fontSize:14,padding:40}},d=["#3B82F6","#10B981","#F59E0B","#8B5CF6","#EF4444","#84CC16","#06B6D4","#F97316","#8B5CF6","#EC4899"];na(()=>{f&&(s(7,c=f.getContext("2d")),y())});function y(){const g=p[b],{width:V,height:k,fontSize:m,padding:I}=g;c.clearRect(0,0,V,k),s(7,c.fillStyle="white",c),c.fillRect(0,0,V,k);const S=V/2,A=k/2,N=Math.min(S,A)-I;let O=0,q=0;Object.entries(n).forEach(([M,W])=>{const L=W/v*2*Math.PI,H=O+L;if(c.beginPath(),c.moveTo(S,A),c.arc(S,A,N,O,H),c.closePath(),s(7,c.fillStyle=d[q%d.length],c),c.fill(),h||u){const X=O+L/2,J=N*.7,K=S+Math.cos(X)*J,ee=A+Math.sin(X)*J;s(7,c.fillStyle="white",c),s(7,c.font=`${m}px system-ui`,c),s(7,c.textAlign="center",c),s(7,c.textBaseline="middle",c);let U="";if(h&&u){const T=Math.round(W/v*100);U=`${M}
${T}%`}else h?U=M:u&&(U=`${Math.round(W/v*100)}%`);const C=U.split(`
`);C.forEach((T,F)=>{c.fillText(T,K,ee+(F-(C.length-1)/2)*m)})}O=H,q++}),c.beginPath(),c.arc(S,A,N*.3,0,2*Math.PI),s(7,c.fillStyle="white",c),c.fill(),s(7,c.fillStyle="#1F2937",c),s(7,c.font=`${m+4}px system-ui`,c),s(7,c.textAlign="center",c),s(7,c.textBaseline="middle",c),c.fillText(v.toString(),S,A)}function P(g){ca[g?"unshift":"push"](()=>{f=g,s(1,f)})}return _.$$set=g=>{"data"in g&&s(3,n=g.data),"total"in g&&s(4,v=g.total),"size"in g&&s(0,b=g.size),"showLabels"in g&&s(5,h=g.showLabels),"showPercentages"in g&&s(6,u=g.showPercentages)},_.$$.update=()=>{_.$$.dirty&128&&c&&y()},[b,f,p,n,v,h,u,c,P]}class ua extends ra{constructor(t){super(),oa(this,t,fa,ha,ia,{data:3,total:4,size:0,showLabels:5,showPercentages:6})}}function Xt(_,t,s){const n=_.slice();return n[14]=t[s],n}function Jt(_,t,s){const n=_.slice();return n[17]=t[s][0],n[18]=t[s][1],n}function Kt(_,t,s){const n=_.slice();return n[21]=t[s][0],n[18]=t[s][1],n}function Wt(_,t,s){const n=_.slice();return n[24]=t[s],n}function _a(_){let t,s,n,v=(_[0]?.stats?.total_contacts||0)+"",b,h,u,f,c,p,d,y=(_[0]?.analytics?.approved_contacts||0)+"",P,g,V,k,m,I,S,A=Math.round((_[0]?.analytics?.average_confidence_score||0)*100)+"",N,O,q,M,W,L,H,X,J=Math.round((_[0]?.analytics?.outreach_success_rate||0)*100)+"",K,ee,U,C,T,F,B,Z,$,pe,ae,se,R,G,ce,le,te,fe,Ve,ye,ie,be,Re,_e,ve,me,Ee,he,ke,ze,Be,ne,je,Se,Ge=Math.round((_[0]?.analytics?.average_quality_score||0)*100)+"",Te,Ze,et,Ae,tt,$e,xe,re,Y=(_[0]?.analytics?.pending_contacts||0)+"",ue,ct,Ce,qe,dt,Me,Pe,Ye=(_[0]?.analytics?.rejected_contacts||0)+"",at,vt,Le,mt,De,oe=_[3]&&Zt(_);const ut=[ya,ga],Ne=[];function _t(w,z){return w[0]?.analytics?.agency_type_distribution?0:1}R=_t(_),G=Ne[R]=ut[R](_);function st(w,z){return w[0]?.analytics?.market_area_distribution?Ea:ba}let lt=st(_),ge=lt(_);const rt=[xa,ja],Oe=[];function pt(w,z){return w[0]?.analytics?.monthly_trends?.length>0?0:1}return ve=pt(_),me=Oe[ve]=rt[ve](_),{c(){t=l("div"),s=l("div"),n=l("div"),b=E(v),h=x(),u=l("div"),f=E("Total Contacts"),c=x(),p=l("div"),d=l("div"),P=E(y),g=x(),V=l("div"),k=E("Approved"),m=x(),I=l("div"),S=l("div"),N=E(A),O=E("%"),q=x(),M=l("div"),W=E("Avg Confidence"),L=x(),H=l("div"),X=l("div"),K=E(J),ee=E("%"),U=x(),C=l("div"),T=E("Success Rate"),F=x(),oe&&oe.c(),B=x(),Z=l("div"),$=l("h2"),pe=E("Agency Type Distribution"),ae=x(),se=l("div"),G.c(),ce=x(),le=l("div"),te=l("h2"),fe=E("Market Area Analysis"),Ve=x(),ge.c(),ye=x(),ie=l("div"),be=l("h2"),Re=E("Monthly Trends"),_e=x(),me.c(),Ee=x(),he=l("div"),ke=l("h2"),ze=E("Data Quality Metrics"),Be=x(),ne=l("div"),je=l("div"),Se=l("div"),Te=E(Ge),Ze=E("%"),et=x(),Ae=l("div"),tt=E("Data Quality Score"),$e=x(),xe=l("div"),re=l("div"),ue=E(Y),ct=x(),Ce=l("div"),qe=E("Pending Review"),dt=x(),Me=l("div"),Pe=l("div"),at=E(Ye),vt=x(),Le=l("div"),mt=E("Rejected"),this.h()},l(w){t=r(w,"DIV",{class:!0});var z=o(t);s=r(z,"DIV",{class:!0});var He=o(s);n=r(He,"DIV",{class:!0});var Ue=o(n);b=j(Ue,v),Ue.forEach(a),h=D(He),u=r(He,"DIV",{class:!0});var ot=o(u);f=j(ot,"Total Contacts"),ot.forEach(a),He.forEach(a),c=D(z),p=r(z,"DIV",{class:!0});var it=o(p);d=r(it,"DIV",{class:!0});var gt=o(d);P=j(gt,y),gt.forEach(a),g=D(it),V=r(it,"DIV",{class:!0});var Qe=o(V);k=j(Qe,"Approved"),Qe.forEach(a),it.forEach(a),m=D(z),I=r(z,"DIV",{class:!0});var nt=o(I);S=r(nt,"DIV",{class:!0});var ht=o(S);N=j(ht,A),O=j(ht,"%"),ht.forEach(a),q=D(nt),M=r(nt,"DIV",{class:!0});var yt=o(M);W=j(yt,"Avg Confidence"),yt.forEach(a),nt.forEach(a),L=D(z),H=r(z,"DIV",{class:!0});var bt=o(H);X=r(bt,"DIV",{class:!0});var Pt=o(X);K=j(Pt,J),ee=j(Pt,"%"),Pt.forEach(a),U=D(bt),C=r(bt,"DIV",{class:!0});var Mt=o(C);T=j(Mt,"Success Rate"),Mt.forEach(a),bt.forEach(a),z.forEach(a),F=D(w),oe&&oe.l(w),B=D(w),Z=r(w,"DIV",{class:!0});var Et=o(Z);$=r(Et,"H2",{class:!0});var Lt=o($);pe=j(Lt,"Agency Type Distribution"),Lt.forEach(a),ae=D(Et),se=r(Et,"DIV",{class:!0});var Nt=o(se);G.l(Nt),Nt.forEach(a),Et.forEach(a),ce=D(w),le=r(w,"DIV",{class:!0});var jt=o(le);te=r(jt,"H2",{class:!0});var Ot=o(te);fe=j(Ot,"Market Area Analysis"),Ot.forEach(a),Ve=D(jt),ge.l(jt),jt.forEach(a),ye=D(w),ie=r(w,"DIV",{class:!0});var xt=o(ie);be=r(xt,"H2",{class:!0});var Ht=o(be);Re=j(Ht,"Monthly Trends"),Ht.forEach(a),_e=D(xt),me.l(xt),xt.forEach(a),Ee=D(w),he=r(w,"DIV",{class:!0});var Dt=o(he);ke=r(Dt,"H2",{class:!0});var Rt=o(ke);ze=j(Rt,"Data Quality Metrics"),Rt.forEach(a),Be=D(Dt),ne=r(Dt,"DIV",{class:!0});var ft=o(ne);je=r(ft,"DIV",{class:!0});var It=o(je);Se=r(It,"DIV",{class:!0});var St=o(Se);Te=j(St,Ge),Ze=j(St,"%"),St.forEach(a),et=D(It),Ae=r(It,"DIV",{class:!0});var zt=o(Ae);tt=j(zt,"Data Quality Score"),zt.forEach(a),It.forEach(a),$e=D(ft),xe=r(ft,"DIV",{class:!0});var wt=o(xe);re=r(wt,"DIV",{class:!0});var Bt=o(re);ue=j(Bt,Y),Bt.forEach(a),ct=D(wt),Ce=r(wt,"DIV",{class:!0});var Ft=o(Ce);qe=j(Ft,"Pending Review"),Ft.forEach(a),wt.forEach(a),dt=D(ft),Me=r(ft,"DIV",{class:!0});var Vt=o(Me);Pe=r(Vt,"DIV",{class:!0});var Gt=o(Pe);at=j(Gt,Ye),Gt.forEach(a),vt=D(Vt),Le=r(Vt,"DIV",{class:!0});var Ut=o(Le);mt=j(Ut,"Rejected"),Ut.forEach(a),Vt.forEach(a),ft.forEach(a),Dt.forEach(a),this.h()},h(){i(n,"class","text-3xl font-bold text-primary-600 mb-1 svelte-1ajmma2"),i(u,"class","text-sm text-gray-600 svelte-1ajmma2"),i(s,"class","card text-center svelte-1ajmma2"),i(d,"class","text-3xl font-bold text-success-600 mb-1 svelte-1ajmma2"),i(V,"class","text-sm text-gray-600 svelte-1ajmma2"),i(p,"class","card text-center svelte-1ajmma2"),i(S,"class","text-3xl font-bold text-warning-600 mb-1 svelte-1ajmma2"),i(M,"class","text-sm text-gray-600 svelte-1ajmma2"),i(I,"class","card text-center svelte-1ajmma2"),i(X,"class","text-3xl font-bold text-error-600 mb-1 svelte-1ajmma2"),i(C,"class","text-sm text-gray-600 svelte-1ajmma2"),i(H,"class","card text-center svelte-1ajmma2"),i(t,"class","grid gap-4 mb-6 md:grid-cols-2 lg:grid-cols-4 svelte-1ajmma2"),i($,"class","text-xl font-semibold mb-4 svelte-1ajmma2"),i(se,"class","grid gap-6 md:grid-cols-2 svelte-1ajmma2"),i(Z,"class","card mb-6 svelte-1ajmma2"),i(te,"class","text-xl font-semibold mb-4 svelte-1ajmma2"),i(le,"class","card mb-6 svelte-1ajmma2"),i(be,"class","text-xl font-semibold mb-4 svelte-1ajmma2"),i(ie,"class","card mb-6 svelte-1ajmma2"),i(ke,"class","text-xl font-semibold mb-4 svelte-1ajmma2"),i(Se,"class","text-2xl font-bold text-primary-600 mb-1 svelte-1ajmma2"),i(Ae,"class","text-sm text-gray-600 svelte-1ajmma2"),i(je,"class","text-center p-4 bg-primary-50 rounded-lg svelte-1ajmma2"),i(re,"class","text-2xl font-bold text-success-600 mb-1 svelte-1ajmma2"),i(Ce,"class","text-sm text-gray-600 svelte-1ajmma2"),i(xe,"class","text-center p-4 bg-success-50 rounded-lg svelte-1ajmma2"),i(Pe,"class","text-2xl font-bold text-warning-600 mb-1 svelte-1ajmma2"),i(Le,"class","text-sm text-gray-600 svelte-1ajmma2"),i(Me,"class","text-center p-4 bg-warning-50 rounded-lg svelte-1ajmma2"),i(ne,"class","grid gap-4 md:grid-cols-2 lg:grid-cols-3 svelte-1ajmma2"),i(he,"class","card")},m(w,z){Q(w,t,z),e(t,s),e(s,n),e(n,b),e(s,h),e(s,u),e(u,f),e(t,c),e(t,p),e(p,d),e(d,P),e(p,g),e(p,V),e(V,k),e(t,m),e(t,I),e(I,S),e(S,N),e(S,O),e(I,q),e(I,M),e(M,W),e(t,L),e(t,H),e(H,X),e(X,K),e(X,ee),e(H,U),e(H,C),e(C,T),Q(w,F,z),oe&&oe.m(w,z),Q(w,B,z),Q(w,Z,z),e(Z,$),e($,pe),e(Z,ae),e(Z,se),Ne[R].m(se,null),Q(w,ce,z),Q(w,le,z),e(le,te),e(te,fe),e(le,Ve),ge.m(le,null),Q(w,ye,z),Q(w,ie,z),e(ie,be),e(be,Re),e(ie,_e),Oe[ve].m(ie,null),Q(w,Ee,z),Q(w,he,z),e(he,ke),e(ke,ze),e(he,Be),e(he,ne),e(ne,je),e(je,Se),e(Se,Te),e(Se,Ze),e(je,et),e(je,Ae),e(Ae,tt),e(ne,$e),e(ne,xe),e(xe,re),e(re,ue),e(xe,ct),e(xe,Ce),e(Ce,qe),e(ne,dt),e(ne,Me),e(Me,Pe),e(Pe,at),e(Me,vt),e(Me,Le),e(Le,mt),De=!0},p(w,z){(!De||z&1)&&v!==(v=(w[0]?.stats?.total_contacts||0)+"")&&de(b,v),(!De||z&1)&&y!==(y=(w[0]?.analytics?.approved_contacts||0)+"")&&de(P,y),(!De||z&1)&&A!==(A=Math.round((w[0]?.analytics?.average_confidence_score||0)*100)+"")&&de(N,A),(!De||z&1)&&J!==(J=Math.round((w[0]?.analytics?.outreach_success_rate||0)*100)+"")&&de(K,J),w[3]?oe?oe.p(w,z):(oe=Zt(w),oe.c(),oe.m(B.parentNode,B)):oe&&(oe.d(1),oe=null);let He=R;R=_t(w),R===He?Ne[R].p(w,z):(Ct(),Ie(Ne[He],1,1,()=>{Ne[He]=null}),Tt(),G=Ne[R],G?G.p(w,z):(G=Ne[R]=ut[R](w),G.c()),we(G,1),G.m(se,null)),lt===(lt=st(w))&&ge?ge.p(w,z):(ge.d(1),ge=lt(w),ge&&(ge.c(),ge.m(le,null)));let Ue=ve;ve=pt(w),ve===Ue?Oe[ve].p(w,z):(Ct(),Ie(Oe[Ue],1,1,()=>{Oe[Ue]=null}),Tt(),me=Oe[ve],me?me.p(w,z):(me=Oe[ve]=rt[ve](w),me.c()),we(me,1),me.m(ie,null)),(!De||z&1)&&Ge!==(Ge=Math.round((w[0]?.analytics?.average_quality_score||0)*100)+"")&&de(Te,Ge),(!De||z&1)&&Y!==(Y=(w[0]?.analytics?.pending_contacts||0)+"")&&de(ue,Y),(!De||z&1)&&Ye!==(Ye=(w[0]?.analytics?.rejected_contacts||0)+"")&&de(at,Ye)},i(w){De||(we(G),we(me),De=!0)},o(w){Ie(G),Ie(me),De=!1},d(w){w&&a(t),w&&a(F),oe&&oe.d(w),w&&a(B),w&&a(Z),Ne[R].d(),w&&a(ce),w&&a(le),ge.d(),w&&a(ye),w&&a(ie),Oe[ve].d(),w&&a(Ee),w&&a(he)}}}function pa(_){let t,s,n,v,b,h,u,f,c;return s=new kt({props:{type:"card",height:"120px"}}),v=new kt({props:{type:"card",height:"200px"}}),h=new kt({props:{type:"card",height:"250px"}}),f=new kt({props:{type:"card",height:"180px"}}),{c(){t=l("div"),Xe(s.$$.fragment),n=x(),Xe(v.$$.fragment),b=x(),Xe(h.$$.fragment),u=x(),Xe(f.$$.fragment),this.h()},l(p){t=r(p,"DIV",{class:!0});var d=o(t);Je(s.$$.fragment,d),n=D(d),Je(v.$$.fragment,d),b=D(d),Je(h.$$.fragment,d),u=D(d),Je(f.$$.fragment,d),d.forEach(a),this.h()},h(){i(t,"class","space-y-6")},m(p,d){Q(p,t,d),Ke(s,t,null),e(t,n),Ke(v,t,null),e(t,b),Ke(h,t,null),e(t,u),Ke(f,t,null),c=!0},p:Fe,i(p){c||(we(s.$$.fragment,p),we(v.$$.fragment,p),we(h.$$.fragment,p),we(f.$$.fragment,p),c=!0)},o(p){Ie(s.$$.fragment,p),Ie(v.$$.fragment,p),Ie(h.$$.fragment,p),Ie(f.$$.fragment,p),c=!1},d(p){p&&a(t),We(s),We(v),We(h),We(f)}}}function Zt(_){let t,s,n,v,b,h,u,f,c,p,d,y,P,g,V,k,m,I,S,A,N,O,q,M,W,L,H,X,J,K,ee,U,C,T,F,B,Z,$,pe,ae,se,R,G,ce,le,te,fe,Ve,ye,ie,be,Re,_e,ve,me,Ee,he,ke,ze,Be,ne,je,Se,Ge,Te,Ze,et,Ae,tt,$e,xe,re=_[4].length>0&&ea(_);return{c(){t=l("div"),s=l("h2"),n=E("Search Performance"),v=x(),b=l("div"),h=l("div"),u=l("h3"),f=E("Contact Discovery Trend"),c=x(),p=l("div"),d=l("div"),y=l("div"),P=E("ðŸ“ˆ"),g=x(),V=l("p"),k=E("Contact discovery chart would appear here"),m=x(),I=l("p"),S=E("(Showing trends over selected timeframe)"),A=x(),N=l("div"),O=l("h3"),q=E("Provider Performance"),M=x(),W=l("div"),L=l("div"),H=l("div"),X=E("ðŸ¥§"),J=x(),K=l("p"),ee=E("Provider performance chart would appear here"),U=x(),C=l("p"),T=E("(Showing distribution by provider)"),F=x(),B=l("div"),Z=l("h2"),$=E("Search Analytics"),pe=x(),ae=l("div"),se=l("div"),R=l("h3"),G=E("Confidence Distribution"),ce=x(),le=l("div"),te=l("div"),fe=l("div"),Ve=E("ðŸ“Š"),ye=x(),ie=l("p"),be=E("Confidence distribution chart would appear here"),Re=x(),_e=l("p"),ve=E("(Showing contact confidence levels)"),me=x(),Ee=l("div"),he=l("h3"),ke=E("Contact Methods"),ze=x(),Be=l("div"),ne=l("div"),je=l("div"),Se=E("ðŸ“‹"),Ge=x(),Te=l("p"),Ze=E("Contact methods chart would appear here"),et=x(),Ae=l("p"),tt=E("(Showing distribution by contact method)"),$e=x(),re&&re.c(),xe=qt(),this.h()},l(Y){t=r(Y,"DIV",{class:!0});var ue=o(t);s=r(ue,"H2",{class:!0});var ct=o(s);n=j(ct,"Search Performance"),ct.forEach(a),v=D(ue),b=r(ue,"DIV",{class:!0});var Ce=o(b);h=r(Ce,"DIV",{});var qe=o(h);u=r(qe,"H3",{class:!0});var dt=o(u);f=j(dt,"Contact Discovery Trend"),dt.forEach(a),c=D(qe),p=r(qe,"DIV",{class:!0});var Me=o(p);d=r(Me,"DIV",{class:!0});var Pe=o(d);y=r(Pe,"DIV",{class:!0});var Ye=o(y);P=j(Ye,"ðŸ“ˆ"),Ye.forEach(a),g=D(Pe),V=r(Pe,"P",{class:!0});var at=o(V);k=j(at,"Contact discovery chart would appear here"),at.forEach(a),m=D(Pe),I=r(Pe,"P",{class:!0});var vt=o(I);S=j(vt,"(Showing trends over selected timeframe)"),vt.forEach(a),Pe.forEach(a),Me.forEach(a),qe.forEach(a),A=D(Ce),N=r(Ce,"DIV",{});var Le=o(N);O=r(Le,"H3",{class:!0});var mt=o(O);q=j(mt,"Provider Performance"),mt.forEach(a),M=D(Le),W=r(Le,"DIV",{class:!0});var De=o(W);L=r(De,"DIV",{class:!0});var oe=o(L);H=r(oe,"DIV",{class:!0});var ut=o(H);X=j(ut,"ðŸ¥§"),ut.forEach(a),J=D(oe),K=r(oe,"P",{class:!0});var Ne=o(K);ee=j(Ne,"Provider performance chart would appear here"),Ne.forEach(a),U=D(oe),C=r(oe,"P",{class:!0});var _t=o(C);T=j(_t,"(Showing distribution by provider)"),_t.forEach(a),oe.forEach(a),De.forEach(a),Le.forEach(a),Ce.forEach(a),ue.forEach(a),F=D(Y),B=r(Y,"DIV",{class:!0});var st=o(B);Z=r(st,"H2",{class:!0});var lt=o(Z);$=j(lt,"Search Analytics"),lt.forEach(a),pe=D(st),ae=r(st,"DIV",{class:!0});var ge=o(ae);se=r(ge,"DIV",{});var rt=o(se);R=r(rt,"H3",{class:!0});var Oe=o(R);G=j(Oe,"Confidence Distribution"),Oe.forEach(a),ce=D(rt),le=r(rt,"DIV",{class:!0});var pt=o(le);te=r(pt,"DIV",{class:!0});var w=o(te);fe=r(w,"DIV",{class:!0});var z=o(fe);Ve=j(z,"ðŸ“Š"),z.forEach(a),ye=D(w),ie=r(w,"P",{class:!0});var He=o(ie);be=j(He,"Confidence distribution chart would appear here"),He.forEach(a),Re=D(w),_e=r(w,"P",{class:!0});var Ue=o(_e);ve=j(Ue,"(Showing contact confidence levels)"),Ue.forEach(a),w.forEach(a),pt.forEach(a),rt.forEach(a),me=D(ge),Ee=r(ge,"DIV",{});var ot=o(Ee);he=r(ot,"H3",{class:!0});var it=o(he);ke=j(it,"Contact Methods"),it.forEach(a),ze=D(ot),Be=r(ot,"DIV",{class:!0});var gt=o(Be);ne=r(gt,"DIV",{class:!0});var Qe=o(ne);je=r(Qe,"DIV",{class:!0});var nt=o(je);Se=j(nt,"ðŸ“‹"),nt.forEach(a),Ge=D(Qe),Te=r(Qe,"P",{class:!0});var ht=o(Te);Ze=j(ht,"Contact methods chart would appear here"),ht.forEach(a),et=D(Qe),Ae=r(Qe,"P",{class:!0});var yt=o(Ae);tt=j(yt,"(Showing distribution by contact method)"),yt.forEach(a),Qe.forEach(a),gt.forEach(a),ot.forEach(a),ge.forEach(a),st.forEach(a),$e=D(Y),re&&re.l(Y),xe=qt(),this.h()},h(){i(s,"class","text-xl font-semibold mb-4 svelte-1ajmma2"),i(u,"class","text-lg font-medium mb-3 svelte-1ajmma2"),i(y,"class","text-4xl mb-2 svelte-1ajmma2"),i(V,"class","text-gray-600 svelte-1ajmma2"),i(I,"class","text-sm text-gray-500 svelte-1ajmma2"),i(d,"class","text-center svelte-1ajmma2"),i(p,"class","bg-gray-100 rounded-lg p-8 flex items-center justify-center svelte-1ajmma2"),i(O,"class","text-lg font-medium mb-3 svelte-1ajmma2"),i(H,"class","text-4xl mb-2 svelte-1ajmma2"),i(K,"class","text-gray-600 svelte-1ajmma2"),i(C,"class","text-sm text-gray-500 svelte-1ajmma2"),i(L,"class","text-center svelte-1ajmma2"),i(W,"class","bg-gray-100 rounded-lg p-8 flex items-center justify-center svelte-1ajmma2"),i(b,"class","grid gap-6 md:grid-cols-2 svelte-1ajmma2"),i(t,"class","card mb-6 svelte-1ajmma2"),i(Z,"class","text-xl font-semibold mb-4 svelte-1ajmma2"),i(R,"class","text-lg font-medium mb-3 svelte-1ajmma2"),i(fe,"class","text-4xl mb-2 svelte-1ajmma2"),i(ie,"class","text-gray-600 svelte-1ajmma2"),i(_e,"class","text-sm text-gray-500 svelte-1ajmma2"),i(te,"class","text-center svelte-1ajmma2"),i(le,"class","bg-gray-100 rounded-lg p-8 flex items-center justify-center svelte-1ajmma2"),i(he,"class","text-lg font-medium mb-3 svelte-1ajmma2"),i(je,"class","text-4xl mb-2 svelte-1ajmma2"),i(Te,"class","text-gray-600 svelte-1ajmma2"),i(Ae,"class","text-sm text-gray-500 svelte-1ajmma2"),i(ne,"class","text-center svelte-1ajmma2"),i(Be,"class","bg-gray-100 rounded-lg p-8 flex items-center justify-center svelte-1ajmma2"),i(ae,"class","grid gap-6 md:grid-cols-2 svelte-1ajmma2"),i(B,"class","card mb-6 svelte-1ajmma2")},m(Y,ue){Q(Y,t,ue),e(t,s),e(s,n),e(t,v),e(t,b),e(b,h),e(h,u),e(u,f),e(h,c),e(h,p),e(p,d),e(d,y),e(y,P),e(d,g),e(d,V),e(V,k),e(d,m),e(d,I),e(I,S),e(b,A),e(b,N),e(N,O),e(O,q),e(N,M),e(N,W),e(W,L),e(L,H),e(H,X),e(L,J),e(L,K),e(K,ee),e(L,U),e(L,C),e(C,T),Q(Y,F,ue),Q(Y,B,ue),e(B,Z),e(Z,$),e(B,pe),e(B,ae),e(ae,se),e(se,R),e(R,G),e(se,ce),e(se,le),e(le,te),e(te,fe),e(fe,Ve),e(te,ye),e(te,ie),e(ie,be),e(te,Re),e(te,_e),e(_e,ve),e(ae,me),e(ae,Ee),e(Ee,he),e(he,ke),e(Ee,ze),e(Ee,Be),e(Be,ne),e(ne,je),e(je,Se),e(ne,Ge),e(ne,Te),e(Te,Ze),e(ne,et),e(ne,Ae),e(Ae,tt),Q(Y,$e,ue),re&&re.m(Y,ue),Q(Y,xe,ue)},p(Y,ue){Y[4].length>0?re?re.p(Y,ue):(re=ea(Y),re.c(),re.m(xe.parentNode,xe)):re&&(re.d(1),re=null)},d(Y){Y&&a(t),Y&&a(F),Y&&a(B),Y&&a($e),re&&re.d(Y),Y&&a(xe)}}}function ea(_){let t,s,n,v,b,h,u,f,c,p=_[4],d=[];for(let y=0;y<p.length;y+=1)d[y]=ta(Wt(_,p,y));return{c(){t=l("div"),s=l("div"),n=l("h2"),v=E("AI-Generated Insights"),b=x(),h=l("button"),u=E("Refresh Insights"),f=x(),c=l("div");for(let y=0;y<d.length;y+=1)d[y].c();this.h()},l(y){t=r(y,"DIV",{class:!0});var P=o(t);s=r(P,"DIV",{class:!0});var g=o(s);n=r(g,"H2",{class:!0});var V=o(n);v=j(V,"AI-Generated Insights"),V.forEach(a),b=D(g),h=r(g,"BUTTON",{class:!0});var k=o(h);u=j(k,"Refresh Insights"),k.forEach(a),g.forEach(a),f=D(P),c=r(P,"DIV",{class:!0});var m=o(c);for(let I=0;I<d.length;I+=1)d[I].l(m);m.forEach(a),P.forEach(a),this.h()},h(){i(n,"class","text-xl font-semibold svelte-1ajmma2"),i(h,"class","px-4 py-2 bg-gray-100 text-gray-700 rounded-lg text-sm hover:bg-gray-200 svelte-1ajmma2"),i(s,"class","flex justify-between items-center mb-4 svelte-1ajmma2"),i(c,"class","space-y-4"),i(t,"class","card mb-6 svelte-1ajmma2")},m(y,P){Q(y,t,P),e(t,s),e(s,n),e(n,v),e(s,b),e(s,h),e(h,u),e(t,f),e(t,c);for(let g=0;g<d.length;g+=1)d[g]&&d[g].m(c,null)},p(y,P){if(P&16){p=y[4];let g;for(g=0;g<p.length;g+=1){const V=Wt(y,p,g);d[g]?d[g].p(V,P):(d[g]=ta(V),d[g].c(),d[g].m(c,null))}for(;g<d.length;g+=1)d[g].d(1);d.length=p.length}},d(y){y&&a(t),At(d,y)}}}function ta(_){let t,s,n,v,b,h,u,f,c=_[24].title+"",p,d,y,P=_[24].description+"",g,V,k,m,I=Math.round(_[24].confidence*100)+"",S,A,N,O,q=_[24].action+"",M,W;return{c(){t=l("div"),s=l("div"),n=l("div"),v=l("span"),b=E("ðŸ’¡"),h=x(),u=l("div"),f=l("h4"),p=E(c),d=x(),y=l("p"),g=E(P),V=x(),k=l("div"),m=l("span"),S=E(I),A=E("% confidence"),N=x(),O=l("span"),M=E(q),W=x(),this.h()},l(L){t=r(L,"DIV",{class:!0});var H=o(t);s=r(H,"DIV",{class:!0});var X=o(s);n=r(X,"DIV",{class:!0});var J=o(n);v=r(J,"SPAN",{class:!0});var K=o(v);b=j(K,"ðŸ’¡"),K.forEach(a),J.forEach(a),h=D(X),u=r(X,"DIV",{class:!0});var ee=o(u);f=r(ee,"H4",{class:!0});var U=o(f);p=j(U,c),U.forEach(a),d=D(ee),y=r(ee,"P",{class:!0});var C=o(y);g=j(C,P),C.forEach(a),V=D(ee),k=r(ee,"DIV",{class:!0});var T=o(k);m=r(T,"SPAN",{class:!0});var F=o(m);S=j(F,I),A=j(F,"% confidence"),F.forEach(a),N=D(T),O=r(T,"SPAN",{});var B=o(O);M=j(B,q),B.forEach(a),T.forEach(a),ee.forEach(a),X.forEach(a),W=D(H),H.forEach(a),this.h()},h(){i(v,"class","text-lg"),i(n,"class","text-blue-600 mr-3 mt-1"),i(f,"class","font-semibold text-gray-900 mb-1 svelte-1ajmma2"),i(y,"class","text-gray-600 text-sm mb-2 svelte-1ajmma2"),i(m,"class","bg-blue-100 text-blue-800 px-2 py-1 rounded mr-2"),i(k,"class","flex items-center text-xs text-gray-500 svelte-1ajmma2"),i(u,"class","flex-1"),i(s,"class","flex items-start svelte-1ajmma2"),i(t,"class","p-4 border-l-4 border-blue-500 bg-blue-50 rounded-r-lg svelte-1ajmma2")},m(L,H){Q(L,t,H),e(t,s),e(s,n),e(n,v),e(v,b),e(s,h),e(s,u),e(u,f),e(f,p),e(u,d),e(u,y),e(y,g),e(u,V),e(u,k),e(k,m),e(m,S),e(m,A),e(k,N),e(k,O),e(O,M),e(t,W)},p(L,H){H&16&&c!==(c=L[24].title+"")&&de(p,c),H&16&&P!==(P=L[24].description+"")&&de(g,P),H&16&&I!==(I=Math.round(L[24].confidence*100)+"")&&de(S,I),H&16&&q!==(q=L[24].action+"")&&de(M,q)},d(L){L&&a(t)}}}function ga(_){let t,s;return{c(){t=l("div"),s=E("No agency type data available"),this.h()},l(n){t=r(n,"DIV",{class:!0});var v=o(t);s=j(v,"No agency type data available"),v.forEach(a),this.h()},h(){i(t,"class","col-span-2 text-center py-8 text-gray-500 svelte-1ajmma2")},m(n,v){Q(n,t,v),e(t,s)},p:Fe,i:Fe,o:Fe,d(n){n&&a(t)}}}function ya(_){let t,s,n,v,b,h=Object.entries(_[0].analytics.agency_type_distribution),u=[];for(let f=0;f<h.length;f+=1)u[f]=aa(Kt(_,h,f));return v=new ua({props:{data:_[8],total:_[7],size:"medium",showLabels:!0,showPercentages:!0}}),{c(){t=l("div");for(let f=0;f<u.length;f+=1)u[f].c();s=x(),n=l("div"),Xe(v.$$.fragment),this.h()},l(f){t=r(f,"DIV",{class:!0});var c=o(t);for(let d=0;d<u.length;d+=1)u[d].l(c);c.forEach(a),s=D(f),n=r(f,"DIV",{class:!0});var p=o(n);Je(v.$$.fragment,p),p.forEach(a),this.h()},h(){i(t,"class","space-y-3 svelte-1ajmma2"),i(n,"class","flex justify-center svelte-1ajmma2")},m(f,c){Q(f,t,c);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(t,null);Q(f,s,c),Q(f,n,c),Ke(v,n,null),b=!0},p(f,c){if(c&129){h=Object.entries(f[0].analytics.agency_type_distribution);let d;for(d=0;d<h.length;d+=1){const y=Kt(f,h,d);u[d]?u[d].p(y,c):(u[d]=aa(y),u[d].c(),u[d].m(t,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=h.length}const p={};c&256&&(p.data=f[8]),c&128&&(p.total=f[7]),v.$set(p)},i(f){b||(we(v.$$.fragment,f),b=!0)},o(f){Ie(v.$$.fragment,f),b=!1},d(f){f&&a(t),At(u,f),f&&a(s),f&&a(n),We(v)}}}function aa(_){let t,s,n=_[21].replace("_"," ")+"",v,b,h,u,f=Math.round(_[18]/_[7]*100)+"",c,p,d,y,P=_[18]+"",g,V;return{c(){t=l("div"),s=l("span"),v=E(n),b=x(),h=l("div"),u=l("span"),c=E(f),p=E("%"),d=x(),y=l("span"),g=E(P),V=x(),this.h()},l(k){t=r(k,"DIV",{class:!0});var m=o(t);s=r(m,"SPAN",{class:!0});var I=o(s);v=j(I,n),I.forEach(a),b=D(m),h=r(m,"DIV",{class:!0});var S=o(h);u=r(S,"SPAN",{class:!0});var A=o(u);c=j(A,f),p=j(A,"%"),A.forEach(a),d=D(S),y=r(S,"SPAN",{class:!0});var N=o(y);g=j(N,P),N.forEach(a),S.forEach(a),V=D(m),m.forEach(a),this.h()},h(){i(s,"class","text-sm font-medium text-gray-700 capitalize svelte-1ajmma2"),i(u,"class","text-sm text-gray-500 svelte-1ajmma2"),i(y,"class","text-sm font-medium text-gray-900 svelte-1ajmma2"),i(h,"class","flex items-center gap-3 svelte-1ajmma2"),i(t,"class","flex items-center justify-between p-3 bg-gray-50 rounded-lg svelte-1ajmma2")},m(k,m){Q(k,t,m),e(t,s),e(s,v),e(t,b),e(t,h),e(h,u),e(u,c),e(u,p),e(h,d),e(h,y),e(y,g),e(t,V)},p(k,m){m&1&&n!==(n=k[21].replace("_"," ")+"")&&de(v,n),m&129&&f!==(f=Math.round(k[18]/k[7]*100)+"")&&de(c,f),m&1&&P!==(P=k[18]+"")&&de(g,P)},d(k){k&&a(t)}}}function ba(_){let t,s;return{c(){t=l("div"),s=E("No market area data available"),this.h()},l(n){t=r(n,"DIV",{class:!0});var v=o(t);s=j(v,"No market area data available"),v.forEach(a),this.h()},h(){i(t,"class","text-center py-8 text-gray-500 svelte-1ajmma2")},m(n,v){Q(n,t,v),e(t,s)},p:Fe,d(n){n&&a(t)}}}function Ea(_){let t,s,n,v,b,h,u,f,c,p,d,y,P,g=Object.entries(_[0].analytics.market_area_distribution).slice(0,5),V=[];for(let k=0;k<g.length;k+=1)V[k]=sa(Jt(_,g,k));return{c(){t=l("div"),s=l("div");for(let k=0;k<V.length;k+=1)V[k].c();n=x(),v=l("div"),b=l("div"),h=l("div"),u=E("ðŸ—ºï¸"),f=x(),c=l("p"),p=E("Geographic map would appear here"),d=x(),y=l("p"),P=E("(Showing market area distribution)"),this.h()},l(k){t=r(k,"DIV",{class:!0});var m=o(t);s=r(m,"DIV",{class:!0});var I=o(s);for(let M=0;M<V.length;M+=1)V[M].l(I);I.forEach(a),n=D(m),v=r(m,"DIV",{class:!0});var S=o(v);b=r(S,"DIV",{class:!0});var A=o(b);h=r(A,"DIV",{class:!0});var N=o(h);u=j(N,"ðŸ—ºï¸"),N.forEach(a),f=D(A),c=r(A,"P",{class:!0});var O=o(c);p=j(O,"Geographic map would appear here"),O.forEach(a),d=D(A),y=r(A,"P",{class:!0});var q=o(y);P=j(q,"(Showing market area distribution)"),q.forEach(a),A.forEach(a),S.forEach(a),m.forEach(a),this.h()},h(){i(s,"class","space-y-3 svelte-1ajmma2"),i(h,"class","text-4xl mb-2 svelte-1ajmma2"),i(c,"class","text-gray-600 svelte-1ajmma2"),i(y,"class","text-sm text-gray-500 svelte-1ajmma2"),i(b,"class","text-center svelte-1ajmma2"),i(v,"class","bg-gray-100 rounded-lg p-8 flex items-center justify-center svelte-1ajmma2"),i(t,"class","grid gap-4 md:grid-cols-2 svelte-1ajmma2")},m(k,m){Q(k,t,m),e(t,s);for(let I=0;I<V.length;I+=1)V[I]&&V[I].m(s,null);e(t,n),e(t,v),e(v,b),e(b,h),e(h,u),e(b,f),e(b,c),e(c,p),e(b,d),e(b,y),e(y,P)},p(k,m){if(m&1){g=Object.entries(k[0].analytics.market_area_distribution).slice(0,5);let I;for(I=0;I<g.length;I+=1){const S=Jt(k,g,I);V[I]?V[I].p(S,m):(V[I]=sa(S),V[I].c(),V[I].m(s,null))}for(;I<V.length;I+=1)V[I].d(1);V.length=g.length}},d(k){k&&a(t),At(V,k)}}}function sa(_){let t,s,n=_[17]+"",v,b,h,u=_[18]+"",f,c;return{c(){t=l("div"),s=l("span"),v=E(n),b=x(),h=l("span"),f=E(u),c=x(),this.h()},l(p){t=r(p,"DIV",{class:!0});var d=o(t);s=r(d,"SPAN",{class:!0});var y=o(s);v=j(y,n),y.forEach(a),b=D(d),h=r(d,"SPAN",{class:!0});var P=o(h);f=j(P,u),P.forEach(a),c=D(d),d.forEach(a),this.h()},h(){i(s,"class","text-sm font-medium text-gray-700 svelte-1ajmma2"),i(h,"class","text-sm font-medium text-gray-900 svelte-1ajmma2"),i(t,"class","flex items-center justify-between p-3 bg-gray-50 rounded-lg svelte-1ajmma2")},m(p,d){Q(p,t,d),e(t,s),e(s,v),e(t,b),e(t,h),e(h,f),e(t,c)},p(p,d){d&1&&n!==(n=p[17]+"")&&de(v,n),d&1&&u!==(u=p[18]+"")&&de(f,u)},d(p){p&&a(t)}}}function ja(_){let t,s;return{c(){t=l("div"),s=E("No trend data available"),this.h()},l(n){t=r(n,"DIV",{class:!0});var v=o(t);s=j(v,"No trend data available"),v.forEach(a),this.h()},h(){i(t,"class","text-center py-8 text-gray-500 svelte-1ajmma2")},m(n,v){Q(n,t,v),e(t,s)},p:Fe,i:Fe,o:Fe,d(n){n&&a(t)}}}function xa(_){let t,s,n,v,b,h,u,f,c,p,d,y,P,g,V,k,m,I,S,A,N,O,q,M,W,L,H,X,J,K,ee;h=new Yt({props:{data:_[6],title:"Contacts Added",size:"medium",showGrid:!0,showPoints:!0}}),y=new Yt({props:{data:_[5],title:"Average Score (%)",size:"medium",showGrid:!0,showPoints:!0}});let U=_[0].analytics.monthly_trends,C=[];for(let T=0;T<U.length;T+=1)C[T]=la(Xt(_,U,T));return{c(){t=l("div"),s=l("div"),n=l("h3"),v=E("Contacts Added"),b=x(),Xe(h.$$.fragment),u=x(),f=l("div"),c=l("h3"),p=E("Average Score"),d=x(),Xe(y.$$.fragment),P=x(),g=l("div"),V=l("table"),k=l("thead"),m=l("tr"),I=l("th"),S=E("Month"),A=x(),N=l("th"),O=E("Contacts Added"),q=x(),M=l("th"),W=E("Approved"),L=x(),H=l("th"),X=E("Avg Score"),J=x(),K=l("tbody");for(let T=0;T<C.length;T+=1)C[T].c();this.h()},l(T){t=r(T,"DIV",{class:!0});var F=o(t);s=r(F,"DIV",{});var B=o(s);n=r(B,"H3",{class:!0});var Z=o(n);v=j(Z,"Contacts Added"),Z.forEach(a),b=D(B),Je(h.$$.fragment,B),B.forEach(a),u=D(F),f=r(F,"DIV",{});var $=o(f);c=r($,"H3",{class:!0});var pe=o(c);p=j(pe,"Average Score"),pe.forEach(a),d=D($),Je(y.$$.fragment,$),$.forEach(a),F.forEach(a),P=D(T),g=r(T,"DIV",{class:!0});var ae=o(g);V=r(ae,"TABLE",{class:!0});var se=o(V);k=r(se,"THEAD",{});var R=o(k);m=r(R,"TR",{class:!0});var G=o(m);I=r(G,"TH",{class:!0});var ce=o(I);S=j(ce,"Month"),ce.forEach(a),A=D(G),N=r(G,"TH",{class:!0});var le=o(N);O=j(le,"Contacts Added"),le.forEach(a),q=D(G),M=r(G,"TH",{class:!0});var te=o(M);W=j(te,"Approved"),te.forEach(a),L=D(G),H=r(G,"TH",{class:!0});var fe=o(H);X=j(fe,"Avg Score"),fe.forEach(a),G.forEach(a),R.forEach(a),J=D(se),K=r(se,"TBODY",{});var Ve=o(K);for(let ye=0;ye<C.length;ye+=1)C[ye].l(Ve);Ve.forEach(a),se.forEach(a),ae.forEach(a),this.h()},h(){i(n,"class","text-lg font-medium mb-3 svelte-1ajmma2"),i(c,"class","text-lg font-medium mb-3 svelte-1ajmma2"),i(t,"class","grid gap-6 md:grid-cols-2 svelte-1ajmma2"),i(I,"class","text-left py-3 font-medium text-gray-700 svelte-1ajmma2"),i(N,"class","text-right py-3 font-medium text-gray-700 svelte-1ajmma2"),i(M,"class","text-right py-3 font-medium text-gray-700 svelte-1ajmma2"),i(H,"class","text-right py-3 font-medium text-gray-700 svelte-1ajmma2"),i(m,"class","border-b border-gray-200 svelte-1ajmma2"),i(V,"class","w-full text-sm svelte-1ajmma2"),i(g,"class","mt-6 overflow-x-auto svelte-1ajmma2")},m(T,F){Q(T,t,F),e(t,s),e(s,n),e(n,v),e(s,b),Ke(h,s,null),e(t,u),e(t,f),e(f,c),e(c,p),e(f,d),Ke(y,f,null),Q(T,P,F),Q(T,g,F),e(g,V),e(V,k),e(k,m),e(m,I),e(I,S),e(m,A),e(m,N),e(N,O),e(m,q),e(m,M),e(M,W),e(m,L),e(m,H),e(H,X),e(V,J),e(V,K);for(let B=0;B<C.length;B+=1)C[B]&&C[B].m(K,null);ee=!0},p(T,F){const B={};F&64&&(B.data=T[6]),h.$set(B);const Z={};if(F&32&&(Z.data=T[5]),y.$set(Z),F&1){U=T[0].analytics.monthly_trends;let $;for($=0;$<U.length;$+=1){const pe=Xt(T,U,$);C[$]?C[$].p(pe,F):(C[$]=la(pe),C[$].c(),C[$].m(K,null))}for(;$<C.length;$+=1)C[$].d(1);C.length=U.length}},i(T){ee||(we(h.$$.fragment,T),we(y.$$.fragment,T),ee=!0)},o(T){Ie(h.$$.fragment,T),Ie(y.$$.fragment,T),ee=!1},d(T){T&&a(t),We(h),We(y),T&&a(P),T&&a(g),At(C,T)}}}function la(_){let t,s,n=_[14].month+"",v,b,h,u=_[14].contacts_added+"",f,c,p,d=_[14].contacts_approved+"",y,P,g,V=Math.round(_[14].average_score*100)+"",k,m,I;return{c(){t=l("tr"),s=l("td"),v=E(n),b=x(),h=l("td"),f=E(u),c=x(),p=l("td"),y=E(d),P=x(),g=l("td"),k=E(V),m=E("%"),I=x(),this.h()},l(S){t=r(S,"TR",{class:!0});var A=o(t);s=r(A,"TD",{class:!0});var N=o(s);v=j(N,n),N.forEach(a),b=D(A),h=r(A,"TD",{class:!0});var O=o(h);f=j(O,u),O.forEach(a),c=D(A),p=r(A,"TD",{class:!0});var q=o(p);y=j(q,d),q.forEach(a),P=D(A),g=r(A,"TD",{class:!0});var M=o(g);k=j(M,V),m=j(M,"%"),M.forEach(a),I=D(A),A.forEach(a),this.h()},h(){i(s,"class","py-3 text-gray-900 svelte-1ajmma2"),i(h,"class","py-3 text-right text-gray-900 svelte-1ajmma2"),i(p,"class","py-3 text-right text-gray-900 svelte-1ajmma2"),i(g,"class","py-3 text-right text-gray-900 svelte-1ajmma2"),i(t,"class","border-b border-gray-100 svelte-1ajmma2")},m(S,A){Q(S,t,A),e(t,s),e(s,v),e(t,b),e(t,h),e(h,f),e(t,c),e(t,p),e(p,y),e(t,P),e(t,g),e(g,k),e(g,m),e(t,I)},p(S,A){A&1&&n!==(n=S[14].month+"")&&de(v,n),A&1&&u!==(u=S[14].contacts_added+"")&&de(f,u),A&1&&d!==(d=S[14].contacts_approved+"")&&de(y,d),A&1&&V!==(V=Math.round(S[14].average_score*100)+"")&&de(k,V)},d(S){S&&a(t)}}}function Da(_){let t,s,n,v,b,h,u,f,c,p,d,y,P,g,V,k,m,I,S,A,N,O,q,M,W,L,H,X,J,K,ee,U,C,T,F,B,Z,$;const pe=[pa,_a],ae=[];function se(R,G){return R[1]?0:1}return U=se(_),C=ae[U]=pe[U](_),F=new va({}),{c(){t=l("div"),s=l("div"),n=l("header"),v=l("div"),b=l("div"),h=l("h1"),u=E("Market Intelligence Analytics"),f=x(),c=l("p"),p=E("Comprehensive insights into your contact database and market trends"),d=x(),y=l("div"),P=l("div"),g=l("label"),V=E("Timeframe:"),k=x(),m=l("select"),I=l("option"),S=E("Last 7 days"),A=l("option"),N=E("Last 30 days"),O=l("option"),q=E("Last 90 days"),M=l("option"),W=E("Last year"),L=l("option"),H=E("All time"),X=x(),J=l("button"),K=E("Export Data"),ee=x(),C.c(),T=x(),Xe(F.$$.fragment),this.h()},l(R){t=r(R,"DIV",{class:!0});var G=o(t);s=r(G,"DIV",{class:!0});var ce=o(s);n=r(ce,"HEADER",{class:!0});var le=o(n);v=r(le,"DIV",{class:!0});var te=o(v);b=r(te,"DIV",{});var fe=o(b);h=r(fe,"H1",{class:!0});var Ve=o(h);u=j(Ve,"Market Intelligence Analytics"),Ve.forEach(a),f=D(fe),c=r(fe,"P",{class:!0});var ye=o(c);p=j(ye,"Comprehensive insights into your contact database and market trends"),ye.forEach(a),fe.forEach(a),d=D(te),y=r(te,"DIV",{class:!0});var ie=o(y);P=r(ie,"DIV",{class:!0});var be=o(P);g=r(be,"LABEL",{class:!0});var Re=o(g);V=j(Re,"Timeframe:"),Re.forEach(a),k=D(be),m=r(be,"SELECT",{class:!0});var _e=o(m);I=r(_e,"OPTION",{});var ve=o(I);S=j(ve,"Last 7 days"),ve.forEach(a),A=r(_e,"OPTION",{});var me=o(A);N=j(me,"Last 30 days"),me.forEach(a),O=r(_e,"OPTION",{});var Ee=o(O);q=j(Ee,"Last 90 days"),Ee.forEach(a),M=r(_e,"OPTION",{});var he=o(M);W=j(he,"Last year"),he.forEach(a),L=r(_e,"OPTION",{});var ke=o(L);H=j(ke,"All time"),ke.forEach(a),_e.forEach(a),be.forEach(a),X=D(ie),J=r(ie,"BUTTON",{class:!0});var ze=o(J);K=j(ze,"Export Data"),ze.forEach(a),ie.forEach(a),te.forEach(a),le.forEach(a),ee=D(ce),C.l(ce),ce.forEach(a),T=D(G),Je(F.$$.fragment,G),G.forEach(a),this.h()},h(){i(h,"class","text-2xl font-bold text-gray-900 mb-2 svelte-1ajmma2"),i(c,"class","text-gray-600 svelte-1ajmma2"),i(g,"class","text-sm font-medium text-gray-700 svelte-1ajmma2"),I.__value="7",I.value=I.__value,A.__value="30",A.value=A.__value,O.__value="90",O.value=O.__value,M.__value="365",M.value=M.__value,L.__value="all",L.value=L.__value,i(m,"class","border border-gray-300 rounded-lg px-3 py-2 text-sm bg-white svelte-1ajmma2"),i(P,"class","flex items-center gap-2 svelte-1ajmma2"),i(J,"class","px-4 py-2 bg-primary-600 text-white rounded-lg text-sm hover:bg-primary-700 svelte-1ajmma2"),i(y,"class","flex gap-3 svelte-1ajmma2"),i(v,"class","flex justify-between items-start svelte-1ajmma2"),i(n,"class","mb-6 svelte-1ajmma2"),i(s,"class","container mx-auto px-4 py-6 svelte-1ajmma2"),i(t,"class","min-h-screen bg-gray-50 pb-20 svelte-1ajmma2")},m(R,G){Q(R,t,G),e(t,s),e(s,n),e(n,v),e(v,b),e(b,h),e(h,u),e(b,f),e(b,c),e(c,p),e(v,d),e(v,y),e(y,P),e(P,g),e(g,V),e(P,k),e(P,m),e(m,I),e(I,S),e(m,A),e(A,N),e(m,O),e(O,q),e(m,M),e(M,W),e(m,L),e(L,H),Qt(m,_[2]),e(y,X),e(y,J),e(J,K),e(s,ee),ae[U].m(s,null),e(t,T),Ke(F,t,null),B=!0,Z||($=[$t(m,"change",_[11]),$t(J,"click",_[10])],Z=!0)},p(R,[G]){(!B||G&4)&&Qt(m,R[2]);let ce=U;U=se(R),U===ce?ae[U].p(R,G):(Ct(),Ie(ae[ce],1,1,()=>{ae[ce]=null}),Tt(),C=ae[U],C?C.p(R,G):(C=ae[U]=pe[U](R),C.c()),we(C,1),C.m(s,null))},i(R){B||(we(C),we(F.$$.fragment,R),B=!0)},o(R){Ie(C),Ie(F.$$.fragment,R),B=!1},d(R){R&&a(t),ae[U].d(),We(F),Z=!1,da($)}}}function Ia(_,t,s){let n,v,b,h,{data:u}=t,f=!0,c="30",p=null,d=[];na(async()=>{await y(),setTimeout(()=>{s(1,f=!1)},1e3)});async function y(){try{const m=await fetch(`/api/v1/system/analytics/data?timeframe=${c}`);m.ok&&(s(3,p=await m.json()),await P())}catch(m){console.error("Error loading search analytics:",m)}}async function P(){try{const m=await fetch(`/api/v1/system/analytics/insights?timeframe=${c}`);if(m.ok){const I=await m.json();s(4,d=I.insights||[])}}catch(m){console.error("Error loading insights:",m)}}function g(m){s(2,c=m),y()}async function V(){try{const m=await fetch(`/api/v1/system/analytics/export?timeframe=${c}`);if(m.ok){const I=await m.blob(),S=window.URL.createObjectURL(I),A=document.createElement("a");A.style.display="none",A.href=S,A.download=`analytics-${c}d-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(A),A.click(),window.URL.revokeObjectURL(S),document.body.removeChild(A)}else console.error("Export failed:",m.statusText),alert("Failed to export analytics data")}catch(m){console.error("Export error:",m),alert("Error exporting analytics data")}}const k=m=>g(m.target.value);return _.$$set=m=>{"data"in m&&s(0,u=m.data)},_.$$.update=()=>{_.$$.dirty&1&&s(8,n=u?.analytics?.agency_type_distribution||{}),_.$$.dirty&1&&s(7,v=u?.analytics?.total_contacts||0),_.$$.dirty&1&&s(6,b=u?.analytics?.monthly_trends?.map(m=>({month:m.month,value:m.contacts_added}))||[]),_.$$.dirty&1&&s(5,h=u?.analytics?.monthly_trends?.map(m=>({month:m.month,value:Math.round(m.average_score*100)}))||[])},[u,f,c,p,d,h,b,v,n,g,V,k]}class Ta extends ra{constructor(t){super(),oa(this,t,Ia,Da,ia,{data:0})}}export{Ta as component,Sa as universal};

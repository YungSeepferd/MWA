var c=Object.defineProperty;var o=(i,e,t)=>e in i?c(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var R=(i,e,t)=>(o(i,typeof e!="symbol"?e+"":e,t),t);const a=class a{constructor(){R(this,"errorCallbacks",[])}static getInstance(){return a.instance||(a.instance=new a),a.instance}handleError(e,t="unknown"){const s=this.normalizeError(e,t);return this.errorCallbacks.forEach(n=>n(s)),s}subscribe(e){return this.errorCallbacks.push(e),()=>{this.errorCallbacks=this.errorCallbacks.filter(t=>t!==e)}}normalizeError(e,t){if(e instanceof Error)return{code:"UNKNOWN_ERROR",message:e.message,details:{stack:e.stack,context:t},timestamp:new Date,severity:"medium"};if(typeof e=="string")return{code:"STRING_ERROR",message:e,details:{context:t},timestamp:new Date,severity:"low"};if(e?.response){const s=e.response.status,n=e.response.statusText,E=e.response.data;return{code:`HTTP_${s}`,message:E?.message||n||`HTTP Error ${s}`,details:{status:s,data:E,context:t},timestamp:new Date,severity:this.getHttpErrorSeverity(s)}}return e?.code?{code:e.code,message:e.message,details:{...e.details,context:t},timestamp:new Date,severity:e.severity||"medium"}:{code:"UNKNOWN_ERROR",message:"An unexpected error occurred",details:{originalError:e,context:t},timestamp:new Date,severity:"medium"}}getHttpErrorSeverity(e){return e>=500?"high":e>=400?"medium":"low"}};R(a,"instance");let r=a;const O={NETWORK_ERROR:"NETWORK_ERROR",API_ERROR:"API_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",AUTH_ERROR:"AUTH_ERROR",WEBSOCKET_ERROR:"WEBSOCKET_ERROR",DATA_ERROR:"DATA_ERROR"},l={NETWORK_OFFLINE:"Network connection appears to be offline",API_UNAVAILABLE:"API service is temporarily unavailable",INVALID_DATA:"Invalid data received from server",AUTH_REQUIRED:"Authentication required",WEBSOCKET_DISCONNECTED:"WebSocket connection lost"},u=r.getInstance();export{O as E,l as a,u as e};

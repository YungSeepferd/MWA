import"../chunks/index.8f2ca6db.js";import{_ as ss,S as as,i as rs,s as ls,k as s,q as c,a as v,l as a,m as r,r as i,h as t,c as h,n as l,$ as Vt,b as xt,D as e,H as at,u as W,g as At,f as os,d as Gt,Q as ns,P as ts,T as cs,o as is,F as ds,W as us,a0 as Kt,v as fs}from"../chunks/index.3da97a40.js";import{r as vs}from"../chunks/websocket.66ffcde3.js";async function hs({fetch:o}){try{const[n,d]=await Promise.all([o("/api/v1/search/configurations").catch(()=>({ok:!1})),o("/api/v1/search/statistics").catch(()=>({ok:!1}))]),g=n.ok?await n.json():[],E=d.ok?await d.json():{total_searches:0,running_searches:0,results_today:0,success_rate:0};return{configurations:g,statistics:E}}catch(n){return console.error("Error loading search data:",n),{configurations:[],statistics:{total_searches:0,running_searches:0,results_today:0,success_rate:0}}}}const Es=Object.freeze(Object.defineProperty({__proto__:null,load:hs},Symbol.toStringTag,{value:"Module"}));function Xt(o,{delay:n=0,duration:d=400,easing:g=ss}={}){const E=+getComputedStyle(o).opacity;return{delay:n,duration:d,easing:g,css:N=>`opacity: ${N*E}`}}function Yt(o,n,d){const g=o.slice();return g[21]=n[d],g}function Zt(o){let n,d,g,E,N,C,x,D,U,w,V,j,I,P,F;return{c(){n=s("div"),d=s("div"),g=c("üîç"),E=v(),N=s("h3"),C=c("No Active Searches"),x=v(),D=s("p"),U=c("Create your first search to start finding apartments"),w=v(),V=s("button"),j=c("Create Search"),I=v(),this.h()},l(H){n=a(H,"DIV",{class:!0});var y=r(n);d=a(y,"DIV",{class:!0});var k=r(d);g=i(k,"üîç"),k.forEach(t),E=h(y),N=a(y,"H3",{class:!0});var le=r(N);C=i(le,"No Active Searches"),le.forEach(t),x=h(y),D=a(y,"P",{class:!0});var G=r(D);U=i(G,"Create your first search to start finding apartments"),G.forEach(t),w=h(y),V=a(y,"BUTTON",{class:!0});var L=r(V);j=i(L,"Create Search"),L.forEach(t),I=h(y),y.forEach(t),this.h()},h(){l(d,"class","text-6xl mb-4"),l(N,"class","text-lg font-semibold text-gray-900 mb-2"),l(D,"class","text-gray-600 mb-4"),l(V,"class","px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"),l(n,"class","col-span-full text-center py-12")},m(H,y){xt(H,n,y),e(n,d),e(d,g),e(n,E),e(n,N),e(N,C),e(n,x),e(n,D),e(D,U),e(n,w),e(n,V),e(V,j),e(n,I),P||(F=at(V,"click",o[7]),P=!0)},p:ds,d(H){H&&t(n),P=!1,F()}}}function $t(o){let n,d,g,E,N=o[21].name+"",C,x,D,U=o[21].status+"",w,V,j,I,P,F,H,y,k,le,G=o[4](o[21].min_price)+"",L,ge,f=o[4](o[21].max_price)+"",T,M,R,O,K,qe,Ie,X=o[21].min_rooms+"",me,We,Ge,z,be,Fe,Ke,oe,Y=(o[21].districts?.length||0)+"",Ee,Pe,ne,ce,Z,Ve,Xe,Ne,ie=o[6](o[21].last_run)+"",ke,ze,de,ue,fe,Te,te,Ce=(o[21].results_count||0)+"",Je,ve,B,he,Ae,ye,Ue,q,xe,He=o[21].status==="running"?"‚è∏Ô∏è":"‚ñ∂Ô∏è",se,ae,Se,_e,Re,je,Ye,pe,S,J,rt;function Ze(){return o[15](o[21])}function lt(){return o[16](o[21])}function ct(){return o[17](o[21])}return{c(){n=s("div"),d=s("div"),g=s("div"),E=s("h3"),C=c(N),x=v(),D=s("span"),w=c(U),j=v(),I=s("div"),P=s("div"),F=s("span"),H=c("Price:"),y=v(),k=s("span"),le=c("‚Ç¨"),L=c(G),ge=c(" - ‚Ç¨"),T=c(f),M=v(),R=s("div"),O=s("span"),K=c("Rooms:"),qe=v(),Ie=s("span"),me=c(X),We=c("+"),Ge=v(),z=s("div"),be=s("span"),Fe=c("Districts:"),Ke=v(),oe=s("span"),Ee=c(Y),Pe=v(),ne=s("div"),ce=s("div"),Z=s("span"),Ve=c("Last Run:"),Xe=v(),Ne=s("span"),ke=c(ie),ze=v(),de=s("div"),ue=s("span"),fe=c("Results:"),Te=v(),te=s("span"),Je=c(Ce),ve=v(),B=s("div"),he=s("button"),Ae=s("span"),ye=c("‚úèÔ∏è"),Ue=v(),q=s("button"),xe=s("span"),se=c(He),Se=v(),_e=s("button"),Re=s("span"),je=c("üóëÔ∏è"),Ye=v(),this.h()},l($){n=a($,"DIV",{class:!0});var _=r(n);d=a(_,"DIV",{class:!0});var Qe=r(d);g=a(Qe,"DIV",{class:!0});var Me=r(g);E=a(Me,"H3",{class:!0});var $e=r(E);C=i($e,N),$e.forEach(t),x=h(Me),D=a(Me,"SPAN",{class:!0});var ot=r(D);w=i(ot,U),ot.forEach(t),Me.forEach(t),j=h(Qe),I=a(Qe,"DIV",{class:!0});var Oe=r(I);P=a(Oe,"DIV",{class:!0});var ee=r(P);F=a(ee,"SPAN",{});var Q=r(F);H=i(Q,"Price:"),Q.forEach(t),y=h(ee),k=a(ee,"SPAN",{});var Le=r(k);le=i(Le,"‚Ç¨"),L=i(Le,G),ge=i(Le," - ‚Ç¨"),T=i(Le,f),Le.forEach(t),ee.forEach(t),M=h(Oe),R=a(Oe,"DIV",{class:!0});var et=r(R);O=a(et,"SPAN",{});var re=r(O);K=i(re,"Rooms:"),re.forEach(t),qe=h(et),Ie=a(et,"SPAN",{});var b=r(Ie);me=i(b,X),We=i(b,"+"),b.forEach(t),et.forEach(t),Ge=h(Oe),z=a(Oe,"DIV",{class:!0});var nt=r(z);be=a(nt,"SPAN",{});var A=r(be);Fe=i(A,"Districts:"),A.forEach(t),Ke=h(nt),oe=a(nt,"SPAN",{});var u=r(oe);Ee=i(u,Y),u.forEach(t),nt.forEach(t),Oe.forEach(t),Qe.forEach(t),Pe=h(_),ne=a(_,"DIV",{class:!0});var m=r(ne);ce=a(m,"DIV",{class:!0});var p=r(ce);Z=a(p,"SPAN",{});var Be=r(Z);Ve=i(Be,"Last Run:"),Be.forEach(t),Xe=h(p),Ne=a(p,"SPAN",{class:!0});var it=r(Ne);ke=i(it,ie),it.forEach(t),p.forEach(t),ze=h(m),de=a(m,"DIV",{class:!0});var tt=r(de);ue=a(tt,"SPAN",{});var De=r(ue);fe=i(De,"Results:"),De.forEach(t),Te=h(tt),te=a(tt,"SPAN",{class:!0});var dt=r(te);Je=i(dt,Ce),dt.forEach(t),tt.forEach(t),m.forEach(t),ve=h(_),B=a(_,"DIV",{class:!0});var we=r(B);he=a(we,"BUTTON",{class:!0,title:!0});var ut=r(he);Ae=a(ut,"SPAN",{class:!0});var ft=r(Ae);ye=i(ft,"‚úèÔ∏è"),ft.forEach(t),ut.forEach(t),Ue=h(we),q=a(we,"BUTTON",{class:!0,title:!0});var st=r(q);xe=a(st,"SPAN",{class:!0});var vt=r(xe);se=i(vt,He),vt.forEach(t),st.forEach(t),Se=h(we),_e=a(we,"BUTTON",{class:!0,title:!0});var ht=r(_e);Re=a(ht,"SPAN",{class:!0});var _t=r(Re);je=i(_t,"üóëÔ∏è"),_t.forEach(t),ht.forEach(t),we.forEach(t),Ye=h(_),_.forEach(t),this.h()},h(){l(E,"class","text-lg font-semibold text-gray-900"),l(D,"class",V="badge badge-"+o[5](o[21].status)+" svelte-6u4sl2"),l(g,"class","flex justify-between items-start"),l(P,"class","flex justify-between"),l(R,"class","flex justify-between"),l(z,"class","flex justify-between"),l(I,"class","mt-2 space-y-1 text-sm text-gray-600"),l(d,"class","p-4 border-b border-gray-100"),l(Ne,"class","text-gray-600"),l(ce,"class","flex justify-between text-sm"),l(te,"class","text-gray-600"),l(de,"class","flex justify-between text-sm mt-1"),l(ne,"class","p-4 border-b border-gray-100"),l(Ae,"class","text-sm"),l(he,"class","p-2 text-gray-400 hover:text-blue-600 transition-colors"),l(he,"title","Edit Search"),l(xe,"class","text-sm"),l(q,"class","p-2 text-gray-400 hover:text-green-600 transition-colors"),q.disabled=o[1],l(q,"title",ae=o[21].status==="running"?"Pause Search":"Start Search"),l(Re,"class","text-sm"),l(_e,"class","p-2 text-gray-400 hover:text-red-600 transition-colors"),l(_e,"title","Delete Search"),l(B,"class","p-3 flex justify-end space-x-2"),l(n,"class","bg-white rounded-lg shadow-sm border border-gray-200 hover:shadow-md transition-shadow")},m($,_){xt($,n,_),e(n,d),e(d,g),e(g,E),e(E,C),e(g,x),e(g,D),e(D,w),e(d,j),e(d,I),e(I,P),e(P,F),e(F,H),e(P,y),e(P,k),e(k,le),e(k,L),e(k,ge),e(k,T),e(I,M),e(I,R),e(R,O),e(O,K),e(R,qe),e(R,Ie),e(Ie,me),e(Ie,We),e(I,Ge),e(I,z),e(z,be),e(be,Fe),e(z,Ke),e(z,oe),e(oe,Ee),e(n,Pe),e(n,ne),e(ne,ce),e(ce,Z),e(Z,Ve),e(ce,Xe),e(ce,Ne),e(Ne,ke),e(ne,ze),e(ne,de),e(de,ue),e(ue,fe),e(de,Te),e(de,te),e(te,Je),e(n,ve),e(n,B),e(B,he),e(he,Ae),e(Ae,ye),e(B,Ue),e(B,q),e(q,xe),e(xe,se),e(B,Se),e(B,_e),e(_e,Re),e(Re,je),e(n,Ye),S=!0,J||(rt=[at(he,"click",Ze),at(q,"click",lt),at(_e,"click",ct)],J=!0)},p($,_){o=$,(!S||_&5)&&N!==(N=o[21].name+"")&&W(C,N),(!S||_&5)&&U!==(U=o[21].status+"")&&W(w,U),(!S||_&5&&V!==(V="badge badge-"+o[5](o[21].status)+" svelte-6u4sl2"))&&l(D,"class",V),(!S||_&5)&&G!==(G=o[4](o[21].min_price)+"")&&W(L,G),(!S||_&5)&&f!==(f=o[4](o[21].max_price)+"")&&W(T,f),(!S||_&5)&&X!==(X=o[21].min_rooms+"")&&W(me,X),(!S||_&5)&&Y!==(Y=(o[21].districts?.length||0)+"")&&W(Ee,Y),(!S||_&5)&&ie!==(ie=o[6](o[21].last_run)+"")&&W(ke,ie),(!S||_&5)&&Ce!==(Ce=(o[21].results_count||0)+"")&&W(Je,Ce),(!S||_&5)&&He!==(He=o[21].status==="running"?"‚è∏Ô∏è":"‚ñ∂Ô∏è")&&W(se,He),(!S||_&2)&&(q.disabled=o[1]),(!S||_&5&&ae!==(ae=o[21].status==="running"?"Pause Search":"Start Search"))&&l(q,"title",ae)},i($){S||(us(()=>{S&&(pe||(pe=Kt(n,Xt,{},!0)),pe.run(1))}),S=!0)},o($){pe||(pe=Kt(n,Xt,{},!1)),pe.run(0),S=!1},d($){$&&t(n),$&&pe&&pe.end(),J=!1,ts(rt)}}}function _s(o){let n,d,g,E,N,C,x,D,U,w,V,j,I,P,F,H,y,k,le,G,L,ge=o[4](o[3].total_searches)+"",f,T,M,R,O,K,qe,Ie,X,me,We,Ge,z,be=o[4](o[3].running_searches)+"",Fe,Ke,oe,Y,Ee,Pe,ne,ce,Z,Ve,Xe,Ne,ie,ke=o[4](o[3].results_today)+"",ze,de,ue,fe,Te,te,Ce,Je,ve,B,he,Ae,ye,Ue=o[3].success_rate+"",q,xe,He,se,ae,Se,_e,Re,je,Ye,pe,S,J,rt,Ze=o[0].filter(es).length+"",lt,ct,$,_,Qe,Me=o[0].length+"",$e,ot,Oe,ee,Q,Le,et,re=o[0].filter(o[14]),b=[];for(let u=0;u<re.length;u+=1)b[u]=$t(Yt(o,re,u));const nt=u=>Gt(b[u],1,1,()=>{b[u]=null});let A=null;return re.length||(A=Zt(o)),{c(){n=s("div"),d=s("div"),g=s("div"),E=s("h1"),N=c("Search Management"),C=v(),x=s("p"),D=c("Manage your apartment search configurations and monitor search performance"),U=v(),w=s("div"),V=s("div"),j=s("div"),I=s("div"),P=s("span"),F=c("üîç"),H=v(),y=s("div"),k=s("p"),le=c("Total Searches"),G=v(),L=s("p"),f=c(ge),T=v(),M=s("div"),R=s("div"),O=s("div"),K=s("span"),qe=c("‚ñ∂Ô∏è"),Ie=v(),X=s("div"),me=s("p"),We=c("Running"),Ge=v(),z=s("p"),Fe=c(be),Ke=v(),oe=s("div"),Y=s("div"),Ee=s("div"),Pe=s("span"),ne=c("üìà"),ce=v(),Z=s("div"),Ve=s("p"),Xe=c("Results Today"),Ne=v(),ie=s("p"),ze=c(ke),de=v(),ue=s("div"),fe=s("div"),Te=s("div"),te=s("span"),Ce=c("üéØ"),Je=v(),ve=s("div"),B=s("p"),he=c("Success Rate"),Ae=v(),ye=s("p"),q=c(Ue),xe=c("%"),He=v(),se=s("div"),ae=s("div"),Se=s("button"),_e=c("+ New Search"),Re=v(),je=s("button"),Ye=c("Import Search"),pe=v(),S=s("div"),J=s("button"),rt=c("Active ("),lt=c(Ze),ct=c(")"),$=v(),_=s("button"),Qe=c("All ("),$e=c(Me),ot=c(")"),Oe=v(),ee=s("div");for(let u=0;u<b.length;u+=1)b[u].c();A&&A.c(),this.h()},l(u){n=a(u,"DIV",{class:!0});var m=r(n);d=a(m,"DIV",{class:!0});var p=r(d);g=a(p,"DIV",{class:!0});var Be=r(g);E=a(Be,"H1",{class:!0});var it=r(E);N=i(it,"Search Management"),it.forEach(t),C=h(Be),x=a(Be,"P",{class:!0});var tt=r(x);D=i(tt,"Manage your apartment search configurations and monitor search performance"),tt.forEach(t),Be.forEach(t),U=h(p),w=a(p,"DIV",{class:!0});var De=r(w);V=a(De,"DIV",{class:!0});var dt=r(V);j=a(dt,"DIV",{class:!0});var we=r(j);I=a(we,"DIV",{class:!0});var ut=r(I);P=a(ut,"SPAN",{class:!0});var ft=r(P);F=i(ft,"üîç"),ft.forEach(t),ut.forEach(t),H=h(we),y=a(we,"DIV",{class:!0});var st=r(y);k=a(st,"P",{class:!0});var vt=r(k);le=i(vt,"Total Searches"),vt.forEach(t),G=h(st),L=a(st,"P",{class:!0});var ht=r(L);f=i(ht,ge),ht.forEach(t),st.forEach(t),we.forEach(t),dt.forEach(t),T=h(De),M=a(De,"DIV",{class:!0});var _t=r(M);R=a(_t,"DIV",{class:!0});var pt=r(R);O=a(pt,"DIV",{class:!0});var Rt=r(O);K=a(Rt,"SPAN",{class:!0});var jt=r(K);qe=i(jt,"‚ñ∂Ô∏è"),jt.forEach(t),Rt.forEach(t),Ie=h(pt),X=a(pt,"DIV",{class:!0});var gt=r(X);me=a(gt,"P",{class:!0});var Mt=r(me);We=i(Mt,"Running"),Mt.forEach(t),Ge=h(gt),z=a(gt,"P",{class:!0});var Ot=r(z);Fe=i(Ot,be),Ot.forEach(t),gt.forEach(t),pt.forEach(t),_t.forEach(t),Ke=h(De),oe=a(De,"DIV",{class:!0});var Bt=r(oe);Y=a(Bt,"DIV",{class:!0});var mt=r(Y);Ee=a(mt,"DIV",{class:!0});var Ct=r(Ee);Pe=a(Ct,"SPAN",{class:!0});var Ut=r(Pe);ne=i(Ut,"üìà"),Ut.forEach(t),Ct.forEach(t),ce=h(mt),Z=a(mt,"DIV",{class:!0});var bt=r(Z);Ve=a(bt,"P",{class:!0});var Ht=r(Ve);Xe=i(Ht,"Results Today"),Ht.forEach(t),Ne=h(bt),ie=a(bt,"P",{class:!0});var Lt=r(ie);ze=i(Lt,ke),Lt.forEach(t),bt.forEach(t),mt.forEach(t),Bt.forEach(t),de=h(De),ue=a(De,"DIV",{class:!0});var qt=r(ue);fe=a(qt,"DIV",{class:!0});var Et=r(fe);Te=a(Et,"DIV",{class:!0});var Ft=r(Te);te=a(Ft,"SPAN",{class:!0});var zt=r(te);Ce=i(zt,"üéØ"),zt.forEach(t),Ft.forEach(t),Je=h(Et),ve=a(Et,"DIV",{class:!0});var yt=r(ve);B=a(yt,"P",{class:!0});var Jt=r(B);he=i(Jt,"Success Rate"),Jt.forEach(t),Ae=h(yt),ye=a(yt,"P",{class:!0});var Nt=r(ye);q=i(Nt,Ue),xe=i(Nt,"%"),Nt.forEach(t),yt.forEach(t),Et.forEach(t),qt.forEach(t),De.forEach(t),He=h(p),se=a(p,"DIV",{class:!0});var St=r(se);ae=a(St,"DIV",{class:!0});var Dt=r(ae);Se=a(Dt,"BUTTON",{class:!0});var Qt=r(Se);_e=i(Qt,"+ New Search"),Qt.forEach(t),Re=h(Dt),je=a(Dt,"BUTTON",{class:!0});var Wt=r(je);Ye=i(Wt,"Import Search"),Wt.forEach(t),Dt.forEach(t),pe=h(St),S=a(St,"DIV",{class:!0});var wt=r(S);J=a(wt,"BUTTON",{class:!0});var It=r(J);rt=i(It,"Active ("),lt=i(It,Ze),ct=i(It,")"),It.forEach(t),$=h(wt),_=a(wt,"BUTTON",{class:!0});var Pt=r(_);Qe=i(Pt,"All ("),$e=i(Pt,Me),ot=i(Pt,")"),Pt.forEach(t),wt.forEach(t),St.forEach(t),Oe=h(p),ee=a(p,"DIV",{class:!0});var kt=r(ee);for(let Tt=0;Tt<b.length;Tt+=1)b[Tt].l(kt);A&&A.l(kt),kt.forEach(t),p.forEach(t),m.forEach(t),this.h()},h(){l(E,"class","text-3xl font-bold text-gray-900 mb-2"),l(x,"class","text-gray-600"),l(g,"class","mb-8"),l(P,"class","text-xl"),l(I,"class","p-3 rounded-full bg-blue-100 text-blue-600"),l(k,"class","text-sm font-medium text-gray-600"),l(L,"class","text-2xl font-bold text-gray-900"),l(y,"class","ml-4"),l(j,"class","flex items-center"),l(V,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),l(K,"class","text-xl"),l(O,"class","p-3 rounded-full bg-green-100 text-green-600"),l(me,"class","text-sm font-medium text-gray-600"),l(z,"class","text-2xl font-bold text-gray-900"),l(X,"class","ml-4"),l(R,"class","flex items-center"),l(M,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),l(Pe,"class","text-xl"),l(Ee,"class","p-3 rounded-full bg-purple-100 text-purple-600"),l(Ve,"class","text-sm font-medium text-gray-600"),l(ie,"class","text-2xl font-bold text-gray-900"),l(Z,"class","ml-4"),l(Y,"class","flex items-center"),l(oe,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),l(te,"class","text-xl"),l(Te,"class","p-3 rounded-full bg-yellow-100 text-yellow-600"),l(B,"class","text-sm font-medium text-gray-600"),l(ye,"class","text-2xl font-bold text-gray-900"),l(ve,"class","ml-4"),l(fe,"class","flex items-center"),l(ue,"class","bg-white rounded-lg shadow-sm border border-gray-200 p-6"),l(w,"class","grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"),l(Se,"class","px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors"),l(je,"class","px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"),l(ae,"class","flex space-x-4"),l(J,"class","px-4 py-2 rounded-lg transition-colors svelte-6u4sl2"),Vt(J,"active",o[2]==="active"),l(_,"class","px-4 py-2 rounded-lg transition-colors svelte-6u4sl2"),Vt(_,"active",o[2]==="all"),l(S,"class","flex space-x-2"),l(se,"class","flex justify-between items-center mb-6"),l(ee,"class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"),l(d,"class","container mx-auto px-4 py-6"),l(n,"class","search-management svelte-6u4sl2")},m(u,m){xt(u,n,m),e(n,d),e(d,g),e(g,E),e(E,N),e(g,C),e(g,x),e(x,D),e(d,U),e(d,w),e(w,V),e(V,j),e(j,I),e(I,P),e(P,F),e(j,H),e(j,y),e(y,k),e(k,le),e(y,G),e(y,L),e(L,f),e(w,T),e(w,M),e(M,R),e(R,O),e(O,K),e(K,qe),e(R,Ie),e(R,X),e(X,me),e(me,We),e(X,Ge),e(X,z),e(z,Fe),e(w,Ke),e(w,oe),e(oe,Y),e(Y,Ee),e(Ee,Pe),e(Pe,ne),e(Y,ce),e(Y,Z),e(Z,Ve),e(Ve,Xe),e(Z,Ne),e(Z,ie),e(ie,ze),e(w,de),e(w,ue),e(ue,fe),e(fe,Te),e(Te,te),e(te,Ce),e(fe,Je),e(fe,ve),e(ve,B),e(B,he),e(ve,Ae),e(ve,ye),e(ye,q),e(ye,xe),e(d,He),e(d,se),e(se,ae),e(ae,Se),e(Se,_e),e(ae,Re),e(ae,je),e(je,Ye),e(se,pe),e(se,S),e(S,J),e(J,rt),e(J,lt),e(J,ct),e(S,$),e(S,_),e(_,Qe),e(_,$e),e(_,ot),e(d,Oe),e(d,ee);for(let p=0;p<b.length;p+=1)b[p]&&b[p].m(ee,null);A&&A.m(ee,null),Q=!0,Le||(et=[at(Se,"click",o[7]),at(J,"click",o[12]),at(_,"click",o[13])],Le=!0)},p(u,[m]){if((!Q||m&8)&&ge!==(ge=u[4](u[3].total_searches)+"")&&W(f,ge),(!Q||m&8)&&be!==(be=u[4](u[3].running_searches)+"")&&W(Fe,be),(!Q||m&8)&&ke!==(ke=u[4](u[3].results_today)+"")&&W(ze,ke),(!Q||m&8)&&Ue!==(Ue=u[3].success_rate+"")&&W(q,Ue),(!Q||m&1)&&Ze!==(Ze=u[0].filter(es).length+"")&&W(lt,Ze),(!Q||m&4)&&Vt(J,"active",u[2]==="active"),(!Q||m&1)&&Me!==(Me=u[0].length+"")&&W($e,Me),(!Q||m&4)&&Vt(_,"active",u[2]==="all"),m&2039){re=u[0].filter(u[14]);let p;for(p=0;p<re.length;p+=1){const Be=Yt(u,re,p);b[p]?(b[p].p(Be,m),At(b[p],1)):(b[p]=$t(Be),b[p].c(),At(b[p],1),b[p].m(ee,null))}for(fs(),p=re.length;p<b.length;p+=1)nt(p);os(),!re.length&&A?A.p(u,m):re.length?A&&(A.d(1),A=null):(A=Zt(u),A.c(),A.m(ee,null))}},i(u){if(!Q){for(let m=0;m<re.length;m+=1)At(b[m]);Q=!0}},o(u){b=b.filter(Boolean);for(let m=0;m<b.length;m+=1)Gt(b[m]);Q=!1},d(u){u&&t(n),ns(b,u),A&&A.d(),Le=!1,ts(et)}}}const es=o=>o.status==="running";function ps(o,n,d){let{data:g}=n,E=g.configurations||[],N=g.statistics||{},C=!1,x="active",D={total_searches:0,running_searches:0,results_today:0,success_rate:0};const U=cs();is(()=>{d(3,D={...N});const f=vs.subscribeSystemStatus(T=>{T.search_stats&&d(3,D={...D,...T.search_stats})});return()=>f()});const w=f=>new Intl.NumberFormat("de-DE").format(f),V=f=>({running:"success",paused:"warning",completed:"info",error:"error",idle:"secondary"})[f]||"secondary",j=f=>{if(!f)return"Never";const T=new Date,M=new Date(f),R=T-M,O=Math.floor(R/6e4);if(O<1)return"Just now";if(O<60)return`${O}m ago`;const K=Math.floor(O/60);return K<24?`${K}h ago`:`${Math.floor(K/24)}d ago`},I=()=>{U("navigate",{url:"/search/new"})},P=f=>{U("navigate",{url:`/search/edit/${f}`})},F=async f=>{try{if(d(1,C=!0),(await fetch(`/api/v1/search/${f}/toggle`,{method:"POST"})).ok){const M=await fetch("/api/v1/search/configurations");M.ok&&d(0,E=await M.json())}}catch(T){console.error("Error toggling search:",T)}finally{d(1,C=!1)}},H=async f=>{if(confirm("Are you sure you want to delete this search?"))try{(await fetch(`/api/v1/search/${f}`,{method:"DELETE"})).ok&&d(0,E=E.filter(M=>M.id!==f))}catch(T){console.error("Error deleting search:",T)}},y=()=>d(2,x="active"),k=()=>d(2,x="all"),le=f=>x==="all"||f.status==="running",G=f=>P(f.id),L=f=>F(f.id),ge=f=>H(f.id);return o.$$set=f=>{"data"in f&&d(11,g=f.data)},[E,C,x,D,w,V,j,I,P,F,H,g,y,k,le,G,L,ge]}class ys extends as{constructor(n){super(),rs(this,n,ps,_s,ls,{data:11})}}export{ys as component,Es as universal};

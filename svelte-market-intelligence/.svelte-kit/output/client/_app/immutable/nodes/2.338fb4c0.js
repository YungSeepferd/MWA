import"../chunks/index.8f2ca6db.js";import{S as pa,i as ba,s as wa,k as o,l as i,m as u,h as l,n,C as ht,p as Qt,b as Y,F as Oe,q as b,a as _,y as ut,r as w,c as p,z as dt,D as e,A as vt,H as jt,u as H,d as de,f as ga,g as ve,B as ft,o as ja,G as Da,v as ya,P as xa,Q as Ea}from"../chunks/index.3da97a40.js";import{g as Ts}from"../chunks/navigation.e2e23cce.js";import{M as ka}from"../chunks/MobileNav.343364e7.js";import{L as Ia}from"../chunks/LineChart.7186ab17.js";import{c as Sa,r as Va,s as Aa}from"../chunks/websocket.66ffcde3.js";async function Ra({fetch:c}){try{const[t,a,s,r,v]=await Promise.all([c("/api/v1/analytics"),c("/api/v1/contacts/statistics/summary"),c("/api/v1/dashboard/activity?limit=10"),c("/api/v1/dashboard/sources?limit=5"),c("/api/v1/system/status")]),d=t.ok?await t.json():{total_contacts:0,approved_contacts:0,average_confidence_score:0,outreach_success_rate:0},m=a.ok?await a.json():{active_searches:0,new_contacts_today:0,pending_review:0,success_rate:0},f=s.ok?await s.json():[],x=r.ok?await r.json():[],g=v.ok?await v.json():{scraper:{status:"Unknown",state:"unknown"},discovery:{status:"Unknown",state:"unknown"},notification:{status:"Unknown",state:"unknown"},database:{status:"Unknown",state:"unknown"}};return{analytics:d,stats:m,activity:f,sources:x,systemStatus:g,recentActivity:[]}}catch(t){return console.error("Error loading dashboard data:",t),{analytics:{total_contacts:0,approved_contacts:0,average_confidence_score:0,outreach_success_rate:0},stats:{active_searches:0,new_contacts_today:0,pending_review:0,success_rate:0},activity:[],sources:[],systemStatus:{scraper:{status:"Unknown",state:"unknown"},discovery:{status:"Unknown",state:"unknown"},notification:{status:"Unknown",state:"unknown"},database:{status:"Unknown",state:"unknown"}},recentActivity:[]}}}const Xa=Object.freeze(Object.defineProperty({__proto__:null,load:Ra},Symbol.toStringTag,{value:"Module"}));function Na(c){let t,a;return{c(){t=o("div"),this.h()},l(s){t=i(s,"DIV",{class:!0,style:!0}),u(t).forEach(l),this.h()},h(){n(t,"class",a=ht(`${c[3]()} ${c[2]}`)+" svelte-1kqgc11"),Qt(t,"height",c[0]),Qt(t,"width",c[1])},m(s,r){Y(s,t,r)},p(s,[r]){r&4&&a!==(a=ht(`${s[3]()} ${s[2]}`)+" svelte-1kqgc11")&&n(t,"class",a),r&1&&Qt(t,"height",s[0]),r&2&&Qt(t,"width",s[1])},i:Oe,o:Oe,d(s){s&&l(t)}}}function Pa(c,t,a){let{type:s="card"}=t,{height:r="auto"}=t,{width:v="100%"}=t,{className:d=""}=t;const m=()=>{const f="skeleton rounded";switch(s){case"card":return`${f} h-full`;case"text":return`${f} h-4`;case"circle":return`${f} rounded-full aspect-square`;case"button":return`${f} h-10`;default:return f}};return c.$$set=f=>{"type"in f&&a(4,s=f.type),"height"in f&&a(0,r=f.height),"width"in f&&a(1,v=f.width),"className"in f&&a(2,d=f.className)},[r,v,d,m,s]}class Ft extends pa{constructor(t){super(),ba(this,t,Pa,Na,wa,{type:4,height:0,width:1,className:2})}}function va(c,t,a){const s=c.slice();return s[24]=t[a],s}function fa(c,t,a){const s=c.slice();return s[27]=t[a],s}function Ca(c){let t,a,s,r=c[7].activeSearches+"",v,d,m,f,x,g,D=c[7].trends.searches.text+"",A,N,$,S,V,P=c[7].newContacts+"",M,O,I,y,R,C,q=c[7].trends.contacts.text+"",T,E,F,z,B,J=c[7].pendingReview+"",G,W,oe,re,K,le,ge=c[7].trends.pending.text+"",ze,X,Je,k,L,Q=c[7].successRate+"",fe,ye,Ee,he,Ke,je,Z,De=c[7].trends.success.text+"",Be,me,Dt,_e,xe,pe,Xe,Jt,Kt,ee,te,Xt,be,ke,Ye,Yt,Zt,qe,es,ts,ss,ie,Ie,Ze,as,rs,se,Se,mt,ls,ns,Ve,_t,cs,os,Ae,pt,is,us,Re,bt,ds,vs,Ne,et,fs,hs,ae,Pe,tt,ms,_s,Ge,wt=c[3].scraper.status+"",xt,kt,ps,Ce,st,bs,ws,We,gt=c[3].discovery.status+"",It,St,gs,Te,at,ys,Es,Qe,yt=c[3].notification.status+"",Vt,At,js,Ue,rt,Ds,xs,Fe,Et=c[3].database.status+"",Rt,Nt,ks,we,lt,Is,Ss,U,Vs,Us;const Ms=[Ma,Ua],Me=[];function Ls(h,j){return h[6].labels.length>0?0:1}ee=Ls(c),te=Me[ee]=Ms[ee](c);function Hs(h,j){return h[2].length>0?Ha:La}let Pt=Hs(c),ne=Pt(c);function $s(h,j){return h[4].length>0?Oa:$a}let Ct=$s(c),ce=Ct(c);return{c(){t=o("div"),a=o("div"),s=o("div"),v=b(r),d=_(),m=o("div"),f=b("Active Searches"),x=_(),g=o("div"),A=b(D),$=_(),S=o("div"),V=o("div"),M=b(P),O=_(),I=o("div"),y=b("New Contacts"),R=_(),C=o("div"),T=b(q),F=_(),z=o("div"),B=o("div"),G=b(J),W=_(),oe=o("div"),re=b("Pending Review"),K=_(),le=o("div"),ze=b(ge),Je=_(),k=o("div"),L=o("div"),fe=b(Q),ye=b("%"),Ee=_(),he=o("div"),Ke=b("Success Rate"),je=_(),Z=o("div"),Be=b(De),Dt=_(),_e=o("div"),xe=o("div"),pe=o("div"),Xe=o("h2"),Jt=b("Search Performance"),Kt=_(),te.c(),Xt=_(),be=o("div"),ke=o("div"),Ye=o("h2"),Yt=b("Recent Activity"),Zt=_(),qe=o("a"),es=b("View All"),ts=_(),ne.c(),ss=_(),ie=o("div"),Ie=o("div"),Ze=o("h2"),as=b("Quick Actions"),rs=_(),se=o("div"),Se=o("button"),mt=o("i"),ls=b("New Search"),ns=_(),Ve=o("button"),_t=o("i"),cs=b("Review Contacts"),os=_(),Ae=o("button"),pt=o("i"),is=b("Export Data"),us=_(),Re=o("button"),bt=o("i"),ds=b("Settings"),vs=_(),Ne=o("div"),et=o("h2"),fs=b("System Status"),hs=_(),ae=o("div"),Pe=o("div"),tt=o("span"),ms=b("Scraper Service"),_s=_(),Ge=o("span"),xt=b(wt),ps=_(),Ce=o("div"),st=o("span"),bs=b("Contact Discovery"),ws=_(),We=o("span"),It=b(gt),gs=_(),Te=o("div"),at=o("span"),ys=b("Notifications"),Es=_(),Qe=o("span"),Vt=b(yt),js=_(),Ue=o("div"),rt=o("span"),Ds=b("Database"),xs=_(),Fe=o("span"),Rt=b(Et),ks=_(),we=o("div"),lt=o("h2"),Is=b("Top Sources"),Ss=_(),ce.c(),this.h()},l(h){t=i(h,"DIV",{class:!0});var j=u(t);a=i(j,"DIV",{class:!0});var ue=u(a);s=i(ue,"DIV",{class:!0});var Os=u(s);v=w(Os,r),Os.forEach(l),d=p(ue),m=i(ue,"DIV",{class:!0});var zs=u(m);f=w(zs,"Active Searches"),zs.forEach(l),x=p(ue),g=i(ue,"DIV",{class:!0});var Bs=u(g);A=w(Bs,D),Bs.forEach(l),ue.forEach(l),$=p(j),S=i(j,"DIV",{class:!0});var nt=u(S);V=i(nt,"DIV",{class:!0});var qs=u(V);M=w(qs,P),qs.forEach(l),O=p(nt),I=i(nt,"DIV",{class:!0});var Gs=u(I);y=w(Gs,"New Contacts"),Gs.forEach(l),R=p(nt),C=i(nt,"DIV",{class:!0});var Ws=u(C);T=w(Ws,q),Ws.forEach(l),nt.forEach(l),F=p(j),z=i(j,"DIV",{class:!0});var ct=u(z);B=i(ct,"DIV",{class:!0});var Qs=u(B);G=w(Qs,J),Qs.forEach(l),W=p(ct),oe=i(ct,"DIV",{class:!0});var Fs=u(oe);re=w(Fs,"Pending Review"),Fs.forEach(l),K=p(ct),le=i(ct,"DIV",{class:!0});var Js=u(le);ze=w(Js,ge),Js.forEach(l),ct.forEach(l),Je=p(j),k=i(j,"DIV",{class:!0});var ot=u(k);L=i(ot,"DIV",{class:!0});var As=u(L);fe=w(As,Q),ye=w(As,"%"),As.forEach(l),Ee=p(ot),he=i(ot,"DIV",{class:!0});var Ks=u(he);Ke=w(Ks,"Success Rate"),Ks.forEach(l),je=p(ot),Z=i(ot,"DIV",{class:!0});var Xs=u(Z);Be=w(Xs,De),Xs.forEach(l),ot.forEach(l),j.forEach(l),Dt=p(h),_e=i(h,"DIV",{class:!0});var Tt=u(_e);xe=i(Tt,"DIV",{class:!0});var Ut=u(xe);pe=i(Ut,"DIV",{class:!0});var Mt=u(pe);Xe=i(Mt,"H2",{class:!0});var Ys=u(Xe);Jt=w(Ys,"Search Performance"),Ys.forEach(l),Kt=p(Mt),te.l(Mt),Mt.forEach(l),Xt=p(Ut),be=i(Ut,"DIV",{class:!0});var Lt=u(be);ke=i(Lt,"DIV",{class:!0});var Ht=u(ke);Ye=i(Ht,"H2",{class:!0});var Zs=u(Ye);Yt=w(Zs,"Recent Activity"),Zs.forEach(l),Zt=p(Ht),qe=i(Ht,"A",{href:!0,class:!0});var ea=u(qe);es=w(ea,"View All"),ea.forEach(l),Ht.forEach(l),ts=p(Lt),ne.l(Lt),Lt.forEach(l),Ut.forEach(l),ss=p(Tt),ie=i(Tt,"DIV",{class:!0});var it=u(ie);Ie=i(it,"DIV",{class:!0});var $t=u(Ie);Ze=i($t,"H2",{class:!0});var ta=u(Ze);as=w(ta,"Quick Actions"),ta.forEach(l),rs=p($t),se=i($t,"DIV",{class:!0});var Le=u(se);Se=i(Le,"BUTTON",{class:!0});var Rs=u(Se);mt=i(Rs,"I",{class:!0}),u(mt).forEach(l),ls=w(Rs,"New Search"),Rs.forEach(l),ns=p(Le),Ve=i(Le,"BUTTON",{class:!0});var Ns=u(Ve);_t=i(Ns,"I",{class:!0}),u(_t).forEach(l),cs=w(Ns,"Review Contacts"),Ns.forEach(l),os=p(Le),Ae=i(Le,"BUTTON",{class:!0});var Ps=u(Ae);pt=i(Ps,"I",{class:!0}),u(pt).forEach(l),is=w(Ps,"Export Data"),Ps.forEach(l),us=p(Le),Re=i(Le,"BUTTON",{class:!0});var Cs=u(Re);bt=i(Cs,"I",{class:!0}),u(bt).forEach(l),ds=w(Cs,"Settings"),Cs.forEach(l),Le.forEach(l),$t.forEach(l),vs=p(it),Ne=i(it,"DIV",{class:!0});var Ot=u(Ne);et=i(Ot,"H2",{class:!0});var sa=u(et);fs=w(sa,"System Status"),sa.forEach(l),hs=p(Ot),ae=i(Ot,"DIV",{class:!0});var He=u(ae);Pe=i(He,"DIV",{class:!0});var zt=u(Pe);tt=i(zt,"SPAN",{class:!0});var aa=u(tt);ms=w(aa,"Scraper Service"),aa.forEach(l),_s=p(zt),Ge=i(zt,"SPAN",{class:!0});var ra=u(Ge);xt=w(ra,wt),ra.forEach(l),zt.forEach(l),ps=p(He),Ce=i(He,"DIV",{class:!0});var Bt=u(Ce);st=i(Bt,"SPAN",{class:!0});var la=u(st);bs=w(la,"Contact Discovery"),la.forEach(l),ws=p(Bt),We=i(Bt,"SPAN",{class:!0});var na=u(We);It=w(na,gt),na.forEach(l),Bt.forEach(l),gs=p(He),Te=i(He,"DIV",{class:!0});var qt=u(Te);at=i(qt,"SPAN",{class:!0});var ca=u(at);ys=w(ca,"Notifications"),ca.forEach(l),Es=p(qt),Qe=i(qt,"SPAN",{class:!0});var oa=u(Qe);Vt=w(oa,yt),oa.forEach(l),qt.forEach(l),js=p(He),Ue=i(He,"DIV",{class:!0});var Gt=u(Ue);rt=i(Gt,"SPAN",{class:!0});var ia=u(rt);Ds=w(ia,"Database"),ia.forEach(l),xs=p(Gt),Fe=i(Gt,"SPAN",{class:!0});var ua=u(Fe);Rt=w(ua,Et),ua.forEach(l),Gt.forEach(l),He.forEach(l),Ot.forEach(l),ks=p(it),we=i(it,"DIV",{class:!0});var Wt=u(we);lt=i(Wt,"H2",{class:!0});var da=u(lt);Is=w(da,"Top Sources"),da.forEach(l),Ss=p(Wt),ce.l(Wt),Wt.forEach(l),it.forEach(l),Tt.forEach(l),this.h()},h(){n(s,"class","text-3xl font-bold text-primary-600 mb-1 svelte-wbu9mj"),n(m,"class","text-sm text-gray-600 svelte-wbu9mj"),n(g,"class",N="text-xs "+(c[7].trends.searches.direction==="up"?"text-success-600":c[7].trends.searches.direction==="down"?"text-error-600":"text-gray-500")+" svelte-wbu9mj"),n(a,"class","card text-center svelte-wbu9mj"),n(V,"class","text-3xl font-bold text-success-600 mb-1 svelte-wbu9mj"),n(I,"class","text-sm text-gray-600 svelte-wbu9mj"),n(C,"class",E="text-xs "+(c[7].trends.contacts.direction==="up"?"text-success-600":c[7].trends.contacts.direction==="down"?"text-error-600":"text-gray-500")+" svelte-wbu9mj"),n(S,"class","card text-center svelte-wbu9mj"),n(B,"class","text-3xl font-bold text-warning-600 mb-1 svelte-wbu9mj"),n(oe,"class","text-sm text-gray-600 svelte-wbu9mj"),n(le,"class",X="text-xs "+(c[7].trends.pending.direction==="up"?"text-success-600":c[7].trends.pending.direction==="down"?"text-error-600":"text-gray-500")+" svelte-wbu9mj"),n(z,"class","card text-center svelte-wbu9mj"),n(L,"class","text-3xl font-bold text-info-600 mb-1 svelte-wbu9mj"),n(he,"class","text-sm text-gray-600 svelte-wbu9mj"),n(Z,"class",me="text-xs "+(c[7].trends.success.direction==="up"?"text-success-600":c[7].trends.success.direction==="down"?"text-error-600":"text-gray-500")+" svelte-wbu9mj"),n(k,"class","card text-center svelte-wbu9mj"),n(t,"class","grid gap-4 mb-6 md:grid-cols-2 lg:grid-cols-4 svelte-wbu9mj"),n(Xe,"class","text-xl font-semibold mb-4 svelte-wbu9mj"),n(pe,"class","card svelte-wbu9mj"),n(Ye,"class","text-xl font-semibold svelte-wbu9mj"),n(qe,"href","/activity"),n(qe,"class","text-sm text-primary-600 hover:underline svelte-wbu9mj"),n(ke,"class","flex items-center justify-between mb-4 svelte-wbu9mj"),n(be,"class","card svelte-wbu9mj"),n(xe,"class","lg:col-span-2 space-y-6 svelte-wbu9mj"),n(Ze,"class","text-xl font-semibold mb-4 svelte-wbu9mj"),n(mt,"class","fas fa-search me-2"),n(Se,"class","btn btn-primary w-full text-left svelte-wbu9mj"),n(_t,"class","fas fa-check-circle me-2"),n(Ve,"class","btn btn-secondary w-full text-left svelte-wbu9mj"),n(pt,"class","fas fa-download me-2"),n(Ae,"class","btn btn-secondary w-full text-left svelte-wbu9mj"),n(bt,"class","fas fa-cog me-2"),n(Re,"class","btn btn-secondary w-full text-left svelte-wbu9mj"),n(se,"class","grid gap-3 svelte-wbu9mj"),n(Ie,"class","card svelte-wbu9mj"),n(et,"class","text-xl font-semibold mb-4 svelte-wbu9mj"),n(tt,"class","text-sm text-gray-700 svelte-wbu9mj"),n(Ge,"class",kt="text-sm "+$e(c[3].scraper.state)+" svelte-wbu9mj"),n(Pe,"class","flex items-center justify-between svelte-wbu9mj"),n(st,"class","text-sm text-gray-700 svelte-wbu9mj"),n(We,"class",St="text-sm "+$e(c[3].discovery.state)+" svelte-wbu9mj"),n(Ce,"class","flex items-center justify-between svelte-wbu9mj"),n(at,"class","text-sm text-gray-700 svelte-wbu9mj"),n(Qe,"class",At="text-sm "+$e(c[3].notification.state)+" svelte-wbu9mj"),n(Te,"class","flex items-center justify-between svelte-wbu9mj"),n(rt,"class","text-sm text-gray-700 svelte-wbu9mj"),n(Fe,"class",Nt="text-sm "+$e(c[3].database.state)+" svelte-wbu9mj"),n(Ue,"class","flex items-center justify-between svelte-wbu9mj"),n(ae,"class","space-y-3 svelte-wbu9mj"),n(Ne,"class","card svelte-wbu9mj"),n(lt,"class","text-xl font-semibold mb-4 svelte-wbu9mj"),n(we,"class","card svelte-wbu9mj"),n(ie,"class","space-y-6 svelte-wbu9mj"),n(_e,"class","grid gap-6 lg:grid-cols-3 svelte-wbu9mj")},m(h,j){Y(h,t,j),e(t,a),e(a,s),e(s,v),e(a,d),e(a,m),e(m,f),e(a,x),e(a,g),e(g,A),e(t,$),e(t,S),e(S,V),e(V,M),e(S,O),e(S,I),e(I,y),e(S,R),e(S,C),e(C,T),e(t,F),e(t,z),e(z,B),e(B,G),e(z,W),e(z,oe),e(oe,re),e(z,K),e(z,le),e(le,ze),e(t,Je),e(t,k),e(k,L),e(L,fe),e(L,ye),e(k,Ee),e(k,he),e(he,Ke),e(k,je),e(k,Z),e(Z,Be),Y(h,Dt,j),Y(h,_e,j),e(_e,xe),e(xe,pe),e(pe,Xe),e(Xe,Jt),e(pe,Kt),Me[ee].m(pe,null),e(xe,Xt),e(xe,be),e(be,ke),e(ke,Ye),e(Ye,Yt),e(ke,Zt),e(ke,qe),e(qe,es),e(be,ts),ne.m(be,null),e(_e,ss),e(_e,ie),e(ie,Ie),e(Ie,Ze),e(Ze,as),e(Ie,rs),e(Ie,se),e(se,Se),e(Se,mt),e(Se,ls),e(se,ns),e(se,Ve),e(Ve,_t),e(Ve,cs),e(se,os),e(se,Ae),e(Ae,pt),e(Ae,is),e(se,us),e(se,Re),e(Re,bt),e(Re,ds),e(ie,vs),e(ie,Ne),e(Ne,et),e(et,fs),e(Ne,hs),e(Ne,ae),e(ae,Pe),e(Pe,tt),e(tt,ms),e(Pe,_s),e(Pe,Ge),e(Ge,xt),e(ae,ps),e(ae,Ce),e(Ce,st),e(st,bs),e(Ce,ws),e(Ce,We),e(We,It),e(ae,gs),e(ae,Te),e(Te,at),e(at,ys),e(Te,Es),e(Te,Qe),e(Qe,Vt),e(ae,js),e(ae,Ue),e(Ue,rt),e(rt,Ds),e(Ue,xs),e(Ue,Fe),e(Fe,Rt),e(ie,ks),e(ie,we),e(we,lt),e(lt,Is),e(we,Ss),ce.m(we,null),U=!0,Vs||(Us=[jt(Se,"click",c[9]),jt(Ve,"click",c[10]),jt(Ae,"click",Ba),jt(Re,"click",c[11])],Vs=!0)},p(h,j){(!U||j&128)&&r!==(r=h[7].activeSearches+"")&&H(v,r),(!U||j&128)&&D!==(D=h[7].trends.searches.text+"")&&H(A,D),(!U||j&128&&N!==(N="text-xs "+(h[7].trends.searches.direction==="up"?"text-success-600":h[7].trends.searches.direction==="down"?"text-error-600":"text-gray-500")+" svelte-wbu9mj"))&&n(g,"class",N),(!U||j&128)&&P!==(P=h[7].newContacts+"")&&H(M,P),(!U||j&128)&&q!==(q=h[7].trends.contacts.text+"")&&H(T,q),(!U||j&128&&E!==(E="text-xs "+(h[7].trends.contacts.direction==="up"?"text-success-600":h[7].trends.contacts.direction==="down"?"text-error-600":"text-gray-500")+" svelte-wbu9mj"))&&n(C,"class",E),(!U||j&128)&&J!==(J=h[7].pendingReview+"")&&H(G,J),(!U||j&128)&&ge!==(ge=h[7].trends.pending.text+"")&&H(ze,ge),(!U||j&128&&X!==(X="text-xs "+(h[7].trends.pending.direction==="up"?"text-success-600":h[7].trends.pending.direction==="down"?"text-error-600":"text-gray-500")+" svelte-wbu9mj"))&&n(le,"class",X),(!U||j&128)&&Q!==(Q=h[7].successRate+"")&&H(fe,Q),(!U||j&128)&&De!==(De=h[7].trends.success.text+"")&&H(Be,De),(!U||j&128&&me!==(me="text-xs "+(h[7].trends.success.direction==="up"?"text-success-600":h[7].trends.success.direction==="down"?"text-error-600":"text-gray-500")+" svelte-wbu9mj"))&&n(Z,"class",me);let ue=ee;ee=Ls(h),ee===ue?Me[ee].p(h,j):(ya(),de(Me[ue],1,1,()=>{Me[ue]=null}),ga(),te=Me[ee],te?te.p(h,j):(te=Me[ee]=Ms[ee](h),te.c()),ve(te,1),te.m(pe,null)),Pt===(Pt=Hs(h))&&ne?ne.p(h,j):(ne.d(1),ne=Pt(h),ne&&(ne.c(),ne.m(be,null))),(!U||j&8)&&wt!==(wt=h[3].scraper.status+"")&&H(xt,wt),(!U||j&8&&kt!==(kt="text-sm "+$e(h[3].scraper.state)+" svelte-wbu9mj"))&&n(Ge,"class",kt),(!U||j&8)&&gt!==(gt=h[3].discovery.status+"")&&H(It,gt),(!U||j&8&&St!==(St="text-sm "+$e(h[3].discovery.state)+" svelte-wbu9mj"))&&n(We,"class",St),(!U||j&8)&&yt!==(yt=h[3].notification.status+"")&&H(Vt,yt),(!U||j&8&&At!==(At="text-sm "+$e(h[3].notification.state)+" svelte-wbu9mj"))&&n(Qe,"class",At),(!U||j&8)&&Et!==(Et=h[3].database.status+"")&&H(Rt,Et),(!U||j&8&&Nt!==(Nt="text-sm "+$e(h[3].database.state)+" svelte-wbu9mj"))&&n(Fe,"class",Nt),Ct===(Ct=$s(h))&&ce?ce.p(h,j):(ce.d(1),ce=Ct(h),ce&&(ce.c(),ce.m(we,null)))},i(h){U||(ve(te),U=!0)},o(h){de(te),U=!1},d(h){h&&l(t),h&&l(Dt),h&&l(_e),Me[ee].d(),ne.d(),ce.d(),Vs=!1,xa(Us)}}}function Ta(c){let t,a,s,r,v,d,m,f,x;return a=new Ft({props:{type:"card",height:"120px"}}),r=new Ft({props:{type:"card",height:"200px"}}),d=new Ft({props:{type:"card",height:"150px"}}),f=new Ft({props:{type:"card",height:"180px"}}),{c(){t=o("div"),ut(a.$$.fragment),s=_(),ut(r.$$.fragment),v=_(),ut(d.$$.fragment),m=_(),ut(f.$$.fragment),this.h()},l(g){t=i(g,"DIV",{class:!0});var D=u(t);dt(a.$$.fragment,D),s=p(D),dt(r.$$.fragment,D),v=p(D),dt(d.$$.fragment,D),m=p(D),dt(f.$$.fragment,D),D.forEach(l),this.h()},h(){n(t,"class","space-y-6")},m(g,D){Y(g,t,D),vt(a,t,null),e(t,s),vt(r,t,null),e(t,v),vt(d,t,null),e(t,m),vt(f,t,null),x=!0},p:Oe,i(g){x||(ve(a.$$.fragment,g),ve(r.$$.fragment,g),ve(d.$$.fragment,g),ve(f.$$.fragment,g),x=!0)},o(g){de(a.$$.fragment,g),de(r.$$.fragment,g),de(d.$$.fragment,g),de(f.$$.fragment,g),x=!1},d(g){g&&l(t),ft(a),ft(r),ft(d),ft(f)}}}function Ua(c){let t,a,s;return{c(){t=o("div"),a=o("p"),s=b("No performance data available"),this.h()},l(r){t=i(r,"DIV",{class:!0});var v=u(t);a=i(v,"P",{});var d=u(a);s=w(d,"No performance data available"),d.forEach(l),v.forEach(l),this.h()},h(){n(t,"class","text-center text-gray-500 py-8 svelte-wbu9mj")},m(r,v){Y(r,t,v),e(t,a),e(a,s)},p:Oe,i:Oe,o:Oe,d(r){r&&l(t)}}}function Ma(c){let t,a;return t=new Ia({props:{data:c[6].labels.map(c[13]),title:"Contacts Found",size:"medium",showGrid:!0,showPoints:!0}}),{c(){ut(t.$$.fragment)},l(s){dt(t.$$.fragment,s)},m(s,r){vt(t,s,r),a=!0},p(s,r){const v={};r&64&&(v.data=s[6].labels.map(s[13])),t.$set(v)},i(s){a||(ve(t.$$.fragment,s),a=!0)},o(s){de(t.$$.fragment,s),a=!1},d(s){ft(t,s)}}}function La(c){let t,a,s,r,v,d;return{c(){t=o("div"),a=o("p"),s=b("No recent activity yet"),r=_(),v=o("p"),d=b("Start by adding your first contact"),this.h()},l(m){t=i(m,"DIV",{class:!0});var f=u(t);a=i(f,"P",{});var x=u(a);s=w(x,"No recent activity yet"),x.forEach(l),r=p(f),v=i(f,"P",{class:!0});var g=u(v);d=w(g,"Start by adding your first contact"),g.forEach(l),f.forEach(l),this.h()},h(){n(v,"class","text-sm svelte-wbu9mj"),n(t,"class","text-center text-gray-500 py-8 svelte-wbu9mj")},m(m,f){Y(m,t,f),e(t,a),e(a,s),e(t,r),e(t,v),e(v,d)},p:Oe,d(m){m&&l(t)}}}function Ha(c){let t,a=c[2],s=[];for(let r=0;r<a.length;r+=1)s[r]=ha(fa(c,a,r));return{c(){t=o("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){t=i(r,"DIV",{class:!0});var v=u(t);for(let d=0;d<s.length;d+=1)s[d].l(v);v.forEach(l),this.h()},h(){n(t,"class","space-y-3 svelte-wbu9mj")},m(r,v){Y(r,t,v);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null)},p(r,v){if(v&4){a=r[2];let d;for(d=0;d<a.length;d+=1){const m=fa(r,a,d);s[d]?s[d].p(m,v):(s[d]=ha(m),s[d].c(),s[d].m(t,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=a.length}},d(r){r&&l(t),Ea(s,r)}}}function ha(c){let t,a,s,r,v,d,m,f,x=c[27].title+"",g,D,A,N=c[27].description+"",$,S,V,P=_a(c[27].timestamp)+"",M,O;return{c(){t=o("div"),a=o("div"),s=o("i"),d=_(),m=o("div"),f=o("div"),g=b(x),D=_(),A=o("div"),$=b(N),S=_(),V=o("div"),M=b(P),O=_(),this.h()},l(I){t=i(I,"DIV",{class:!0});var y=u(t);a=i(y,"DIV",{class:!0});var R=u(a);s=i(R,"I",{class:!0}),u(s).forEach(l),R.forEach(l),d=p(y),m=i(y,"DIV",{class:!0});var C=u(m);f=i(C,"DIV",{class:!0});var q=u(f);g=w(q,x),q.forEach(l),D=p(C),A=i(C,"DIV",{class:!0});var T=u(A);$=w(T,N),T.forEach(l),C.forEach(l),S=p(y),V=i(y,"DIV",{class:!0});var E=u(V);M=w(E,P),E.forEach(l),O=p(y),y.forEach(l),this.h()},h(){n(s,"class",r="fas "+c[27].icon+" text-sm svelte-wbu9mj"),n(a,"class",v=ht(`w-8 h-8 rounded-full flex items-center justify-center ${c[27].icon_color==="success"?"bg-success-100 text-success-600":c[27].icon_color==="primary"?"bg-primary-100 text-primary-600":c[27].icon_color==="warning"?"bg-warning-100 text-warning-600":"bg-gray-100 text-gray-600"}`)+" svelte-wbu9mj"),n(f,"class","text-sm font-medium text-gray-900 svelte-wbu9mj"),n(A,"class","text-xs text-gray-500 svelte-wbu9mj"),n(m,"class","flex-1"),n(V,"class","text-xs text-gray-400 svelte-wbu9mj"),n(t,"class","flex items-center gap-3 p-3 bg-gray-50 rounded-lg svelte-wbu9mj")},m(I,y){Y(I,t,y),e(t,a),e(a,s),e(t,d),e(t,m),e(m,f),e(f,g),e(m,D),e(m,A),e(A,$),e(t,S),e(t,V),e(V,M),e(t,O)},p(I,y){y&4&&r!==(r="fas "+I[27].icon+" text-sm svelte-wbu9mj")&&n(s,"class",r),y&4&&v!==(v=ht(`w-8 h-8 rounded-full flex items-center justify-center ${I[27].icon_color==="success"?"bg-success-100 text-success-600":I[27].icon_color==="primary"?"bg-primary-100 text-primary-600":I[27].icon_color==="warning"?"bg-warning-100 text-warning-600":"bg-gray-100 text-gray-600"}`)+" svelte-wbu9mj")&&n(a,"class",v),y&4&&x!==(x=I[27].title+"")&&H(g,x),y&4&&N!==(N=I[27].description+"")&&H($,N),y&4&&P!==(P=_a(I[27].timestamp)+"")&&H(M,P)},d(I){I&&l(t)}}}function $a(c){let t,a,s;return{c(){t=o("div"),a=o("p"),s=b("No sources data available"),this.h()},l(r){t=i(r,"DIV",{class:!0});var v=u(t);a=i(v,"P",{});var d=u(a);s=w(d,"No sources data available"),d.forEach(l),v.forEach(l),this.h()},h(){n(t,"class","text-center text-gray-500 py-4 svelte-wbu9mj")},m(r,v){Y(r,t,v),e(t,a),e(a,s)},p:Oe,d(r){r&&l(t)}}}function Oa(c){let t,a=c[4],s=[];for(let r=0;r<a.length;r+=1)s[r]=ma(va(c,a,r));return{c(){t=o("div");for(let r=0;r<s.length;r+=1)s[r].c();this.h()},l(r){t=i(r,"DIV",{class:!0});var v=u(t);for(let d=0;d<s.length;d+=1)s[d].l(v);v.forEach(l),this.h()},h(){n(t,"class","space-y-3 svelte-wbu9mj")},m(r,v){Y(r,t,v);for(let d=0;d<s.length;d+=1)s[d]&&s[d].m(t,null)},p(r,v){if(v&16){a=r[4];let d;for(d=0;d<a.length;d+=1){const m=va(r,a,d);s[d]?s[d].p(m,v):(s[d]=ma(m),s[d].c(),s[d].m(t,null))}for(;d<s.length;d+=1)s[d].d(1);s.length=a.length}},d(r){r&&l(t),Ea(s,r)}}}function ma(c){let t,a,s,r=c[24].name+"",v,d,m,f=c[24].contacts_found+"",x,g,D=c[24].success_rate+"",A,N,$,S,V,P,M=c[24].score+"",O,I;return{c(){t=o("div"),a=o("div"),s=o("p"),v=b(r),d=_(),m=o("p"),x=b(f),g=b(" contacts • "),A=b(D),N=b("% success"),$=_(),S=o("div"),V=o("i"),P=_(),O=b(M),I=_(),this.h()},l(y){t=i(y,"DIV",{class:!0});var R=u(t);a=i(R,"DIV",{});var C=u(a);s=i(C,"P",{class:!0});var q=u(s);v=w(q,r),q.forEach(l),d=p(C),m=i(C,"P",{class:!0});var T=u(m);x=w(T,f),g=w(T," contacts • "),A=w(T,D),N=w(T,"% success"),T.forEach(l),C.forEach(l),$=p(R),S=i(R,"DIV",{class:!0});var E=u(S);V=i(E,"I",{class:!0}),u(V).forEach(l),P=p(E),O=w(E,M),E.forEach(l),I=p(R),R.forEach(l),this.h()},h(){n(s,"class","text-sm font-medium svelte-wbu9mj"),n(m,"class","text-xs text-gray-500 svelte-wbu9mj"),n(V,"class","fas fa-star"),n(S,"class","text-sm font-medium text-warning-600 svelte-wbu9mj"),n(t,"class","flex items-center justify-between p-2 bg-gray-50 rounded svelte-wbu9mj")},m(y,R){Y(y,t,R),e(t,a),e(a,s),e(s,v),e(a,d),e(a,m),e(m,x),e(m,g),e(m,A),e(m,N),e(t,$),e(t,S),e(S,V),e(S,P),e(S,O),e(t,I)},p(y,R){R&16&&r!==(r=y[24].name+"")&&H(v,r),R&16&&f!==(f=y[24].contacts_found+"")&&H(x,f),R&16&&D!==(D=y[24].success_rate+"")&&H(A,D),R&16&&M!==(M=y[24].score+"")&&H(O,M)},d(y){y&&l(t)}}}function za(c){let t,a,s,r,v,d,m,f,x,g,D,A,N,$,S,V,P=c[1]?"Live":"Offline",M,O,I,y,R=c[0]?"Refreshing...":"Refresh",C,q,T,E,F,z=c[5].toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})+"",B,J,G,W,oe,re,K,le,ge;const ze=[Ta,Ca],X=[];function Je(k,L){return k[0]?0:1}return G=Je(c),W=X[G]=ze[G](c),re=new ka({}),{c(){t=o("div"),a=o("div"),s=o("header"),r=o("div"),v=o("div"),d=o("h1"),m=b("Dashboard"),f=_(),x=o("p"),g=b("Welcome back! Here's your apartment search overview."),D=_(),A=o("div"),N=o("div"),$=o("span"),S=_(),V=o("span"),M=b(P),I=_(),y=o("button"),C=b(R),q=_(),T=o("p"),E=o("i"),F=b(`
        Last updated: `),B=b(z),J=_(),W.c(),oe=_(),ut(re.$$.fragment),this.h()},l(k){t=i(k,"DIV",{class:!0});var L=u(t);a=i(L,"DIV",{class:!0});var Q=u(a);s=i(Q,"HEADER",{class:!0});var fe=u(s);r=i(fe,"DIV",{class:!0});var ye=u(r);v=i(ye,"DIV",{});var Ee=u(v);d=i(Ee,"H1",{class:!0});var he=u(d);m=w(he,"Dashboard"),he.forEach(l),f=p(Ee),x=i(Ee,"P",{class:!0});var Ke=u(x);g=w(Ke,"Welcome back! Here's your apartment search overview."),Ke.forEach(l),Ee.forEach(l),D=p(ye),A=i(ye,"DIV",{class:!0});var je=u(A);N=i(je,"DIV",{class:!0});var Z=u(N);$=i(Z,"SPAN",{class:!0}),u($).forEach(l),S=p(Z),V=i(Z,"SPAN",{class:!0});var De=u(V);M=w(De,P),De.forEach(l),Z.forEach(l),I=p(je),y=i(je,"BUTTON",{class:!0});var Be=u(y);C=w(Be,R),Be.forEach(l),je.forEach(l),ye.forEach(l),q=p(fe),T=i(fe,"P",{class:!0});var me=u(T);E=i(me,"I",{class:!0}),u(E).forEach(l),F=w(me,`
        Last updated: `),B=w(me,z),me.forEach(l),fe.forEach(l),J=p(Q),W.l(Q),Q.forEach(l),oe=p(L),dt(re.$$.fragment,L),L.forEach(l),this.h()},h(){n(d,"class","text-2xl font-bold text-gray-900 svelte-wbu9mj"),n(x,"class","text-gray-600 svelte-wbu9mj"),n($,"class","status-dot svelte-wbu9mj"),n(V,"class","text-xs svelte-wbu9mj"),n(N,"class",O=ht(`status-indicator ${c[1]?"connected":"disconnected"}`)+" svelte-wbu9mj"),n(y,"class","btn btn-secondary"),y.disabled=c[0],n(A,"class","flex items-center gap-3 svelte-wbu9mj"),n(r,"class","flex items-center justify-between mb-2 svelte-wbu9mj"),n(E,"class","fas fa-clock me-1"),n(T,"class","text-sm text-gray-500 svelte-wbu9mj"),n(s,"class","mb-6 svelte-wbu9mj"),n(a,"class","container mx-auto px-4 py-6 svelte-wbu9mj"),n(t,"class","min-h-screen bg-gray-50 pb-20 svelte-wbu9mj")},m(k,L){Y(k,t,L),e(t,a),e(a,s),e(s,r),e(r,v),e(v,d),e(d,m),e(v,f),e(v,x),e(x,g),e(r,D),e(r,A),e(A,N),e(N,$),e(N,S),e(N,V),e(V,M),e(A,I),e(A,y),e(y,C),e(s,q),e(s,T),e(T,E),e(T,F),e(T,B),e(a,J),X[G].m(a,null),e(t,oe),vt(re,t,null),K=!0,le||(ge=jt(y,"click",c[8]),le=!0)},p(k,[L]){(!K||L&2)&&P!==(P=k[1]?"Live":"Offline")&&H(M,P),(!K||L&2&&O!==(O=ht(`status-indicator ${k[1]?"connected":"disconnected"}`)+" svelte-wbu9mj"))&&n(N,"class",O),(!K||L&1)&&R!==(R=k[0]?"Refreshing...":"Refresh")&&H(C,R),(!K||L&1)&&(y.disabled=k[0]),(!K||L&32)&&z!==(z=k[5].toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})+"")&&H(B,z);let Q=G;G=Je(k),G===Q?X[G].p(k,L):(ya(),de(X[Q],1,1,()=>{X[Q]=null}),ga(),W=X[G],W?W.p(k,L):(W=X[G]=ze[G](k),W.c()),ve(W,1),W.m(a,null))},i(k){K||(ve(W),ve(re.$$.fragment,k),K=!0)},o(k){de(W),de(re.$$.fragment,k),K=!1},d(k){k&&l(t),X[G].d(),ft(re),le=!1,ge()}}}function $e(c){switch(c){case"active":case"running":case"connected":return"text-success-600";case"warning":case"syncing":return"text-warning-600";case"error":case"failed":return"text-error-600";default:return"text-gray-500"}}function _a(c){const a=new Date().getTime()-c.getTime(),s=Math.floor(a/6e4);if(s<1)return"Just now";if(s<60)return`${s}m ago`;const r=Math.floor(s/60);return r<24?`${r}h ago`:`${Math.floor(r/24)}d ago`}function Ba(){console.log("Export data functionality")}function qa(c,t,a){let{data:s}=t,r=!0,v=!1,d=[],m={scraper:{status:"Unknown",state:"unknown"},discovery:{status:"Unknown",state:"unknown"},notification:{status:"Unknown",state:"unknown"},database:{status:"Unknown",state:"unknown"}},f=[],x=new Date,g=null,D={labels:[],contacts:[],successRates:[]},A={activeSearches:0,newContacts:0,pendingReview:0,successRate:0,trends:{searches:{direction:"neutral",text:"0 changes"},contacts:{direction:"neutral",text:"0 today"},pending:{direction:"neutral",text:"0 changes"},success:{direction:"neutral",text:"0% this month"}}};ja(()=>{N(),O();const E=Sa.subscribe(B=>{a(2,d=B.slice(0,10))}),F=Va.subscribe(B=>{a(1,v=B)}),z=Aa.subscribe(B=>{a(3,m=B)});return()=>{E(),F(),z(),I()}}),Da(()=>{I()});async function N(){try{await Promise.all([$(),S(),V(),P(),M()]),a(5,x=new Date),a(0,r=!1)}catch(E){console.error("Error initializing dashboard:",E),a(0,r=!1)}}async function $(){try{a(7,A={activeSearches:s?.stats?.active_searches||5,newContacts:s?.stats?.new_contacts_today||12,pendingReview:s?.stats?.pending_review||8,successRate:s?.stats?.success_rate||75,trends:{searches:{direction:"up",text:"+2 this week"},contacts:{direction:"up",text:"+5 today"},pending:{direction:"neutral",text:"0 changes"},success:{direction:"up",text:"+5% this month"}}})}catch(E){console.error("Error loading dashboard stats:",E)}}async function S(){try{d.length===0&&a(2,d=[{type:"contact_created",title:"New Contact Added",description:"Max Mustermann - Property Manager",timestamp:new Date(Date.now()-3e5),icon:"user-plus",icon_color:"success"},{type:"search_complete",title:"Search Completed",description:"Munchen Center Area",timestamp:new Date(Date.now()-6e5),icon:"search",icon_color:"primary"},{type:"contact_approved",title:"Contact Approved",description:"Anna Schmidt - Real Estate Agent",timestamp:new Date(Date.now()-9e5),icon:"check-circle",icon_color:"success"}])}catch(E){console.error("Error loading recent activity:",E)}}async function V(){try{a(4,f=[{name:"ImmobilienScout24",contacts_found:45,success_rate:82,score:4.8},{name:"WG-Gesucht",contacts_found:32,success_rate:75,score:4.5},{name:"ImmoWelt",contacts_found:18,success_rate:68,score:4.2},{name:"Ebay Kleinanzeigen",contacts_found:12,success_rate:60,score:3.9}])}catch(E){console.error("Error loading top sources:",E)}}async function P(){try{a(3,m={scraper:{status:"Active",state:"active"},discovery:{status:"Running",state:"running"},notification:{status:"Connected",state:"connected"},database:{status:"Syncing",state:"syncing"}})}catch(E){console.error("Error loading system status:",E)}}async function M(){try{const F=new Date;a(6,D.labels=Array.from({length:7},(z,B)=>{const J=new Date(F);return J.setDate(J.getDate()-(7-B-1)),J.toLocaleDateString("de-DE",{day:"numeric",month:"short"})}),D),a(6,D.contacts=Array.from({length:7},()=>Math.floor(Math.random()*20)+5),D),a(6,D.successRates=Array.from({length:7},()=>Math.floor(Math.random()*30)+60),D)}catch(E){console.error("Error loading performance data:",E)}}function O(){g=setInterval(()=>{!r&&v&&y()},3e4)}function I(){g&&(clearInterval(g),g=null)}async function y(){a(0,r=!0);try{await Promise.all([$(),S(),V(),P(),M()]),a(5,x=new Date)}catch(E){console.error("Error refreshing dashboard:",E)}finally{a(0,r=!1)}}function R(){Ts("/search/new")}function C(){Ts("/contacts?filter=pending")}function q(){Ts("/settings")}const T=(E,F)=>({label:E,value:D.contacts[F]});return c.$$set=E=>{"data"in E&&a(12,s=E.data)},[r,v,d,m,f,x,D,A,y,R,C,q,s,T]}class Ya extends pa{constructor(t){super(),ba(this,t,qa,za,wa,{data:12})}}export{Ya as component,Xa as universal};

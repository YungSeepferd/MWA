import{e as Me}from"../chunks/index.8f2ca6db.js";import{S as ct,i as rt,s as it,k as _,l as v,m as p,h as d,n as m,b as L,D as o,F as ue,o as dt,w as ht,q as S,a as k,y as he,r as D,c as w,z as _e,A as ve,H as ke,d as ae,f as ft,g as le,B as pe,v as ut,u as U,P as _t,Q as we,C as je}from"../chunks/index.3da97a40.js";import"../chunks/singletons.71d606f7.js";import{g as vt}from"../chunks/navigation.e2e23cce.js";import{L as Ie}from"../chunks/ScoringChart.svelte_svelte_type_style_lang.475579b1.js";import{M as pt}from"../chunks/MobileNav.343364e7.js";function mt(u){let e,t,i,f;return{c(){e=_("div"),t=_("canvas"),this.h()},l(a){e=v(a,"DIV",{class:!0});var c=p(e);t=v(c,"CANVAS",{width:!0,height:!0,class:!0}),p(t).forEach(d),c.forEach(d),this.h()},h(){m(t,"width",i=u[2][u[0]].width),m(t,"height",f=u[2][u[0]].height),m(t,"class","chart-canvas svelte-1te1oqt"),m(e,"class","scoring-chart svelte-1te1oqt")},m(a,c){L(a,e,c),o(e,t),u[8](t)},p(a,[c]){c&1&&i!==(i=a[2][a[0]].width)&&m(t,"width",i),c&1&&f!==(f=a[2][a[0]].height)&&m(t,"height",f)},i:ue,o:ue,d(a){a&&d(e),u[8](null)}}}function bt(u,e,t){let{scores:i}=e,{overallScore:f}=e,{size:a="medium"}=e,{showLabels:c=!0}=e,{showValues:n=!0}=e,l,s;const r={small:{width:200,height:120,fontSize:10,padding:10},medium:{width:300,height:180,fontSize:12,padding:15},large:{width:400,height:240,fontSize:14,padding:20}},h={business_context:"#3B82F6",market_relevance:"#10B981",engagement:"#F59E0B",data_completeness:"#8B5CF6",source_reliability:"#EF4444"};dt(()=>{l&&(t(7,s=l.getContext("2d")),b())});function b(){const g=r[a],{width:I,height:y,fontSize:z,padding:V}=g;s.clearRect(0,0,I,y),t(7,s.fillStyle="white",s),s.fillRect(0,0,I,y);const N=Object.keys(i).length,j=(I-V*2)/N,x=y-V*2-(c?z+5:0);Object.entries(i).forEach(([B,C],T)=>{const A=V+T*j,H=C*x,R=y-V-H;if(t(7,s.fillStyle=h[B]||"#6B7280",s),s.fillRect(A,R,j-2,H),n&&(t(7,s.fillStyle="white",s),t(7,s.font=`${z}px system-ui`,s),t(7,s.textAlign="center",s),s.fillText(`${Math.round(C*100)}%`,A+j/2,R+H/2+z/3)),c){t(7,s.fillStyle="#374151",s),t(7,s.font=`${z}px system-ui`,s),t(7,s.textAlign="center",s);const M=B.replace("_"," ").replace(/\b\w/g,$=>$.toUpperCase());s.fillText(M,A+j/2,y-V+z+2)}}),f!==void 0&&(t(7,s.fillStyle="#1F2937",s),t(7,s.font=`${z+2}px system-ui`,s),t(7,s.textAlign="center",s),s.fillText(`Overall: ${Math.round(f*100)}%`,I/2,V-5))}function E(g){ht[g?"unshift":"push"](()=>{l=g,t(1,l)})}return u.$$set=g=>{"scores"in g&&t(3,i=g.scores),"overallScore"in g&&t(4,f=g.overallScore),"size"in g&&t(0,a=g.size),"showLabels"in g&&t(5,c=g.showLabels),"showValues"in g&&t(6,n=g.showValues)},u.$$.update=()=>{u.$$.dirty&128&&s&&b()},[a,l,r,i,f,c,n,s,E]}class gt extends ct{constructor(e){super(),rt(this,e,bt,mt,it,{scores:3,overallScore:4,size:0,showLabels:5,showValues:6})}}async function zt({fetch:u,params:e}){try{const t=await u(`/api/v1/contacts/${e.id}`);if(!t.ok)throw t.status===404&&Me(404,"Contact not found"),new Error(`API Error: ${t.status} ${t.statusText}`);const i=await t.json(),f=await u(`/api/v1/contacts/${e.id}/scoring`);let a=null;return f.ok&&(a=await f.json()),{contact:i,scoring:a}}catch(t){console.error("Error loading contact details:",t),t.status===404&&Me(404,t.message)}}const Ct=Object.freeze(Object.defineProperty({__proto__:null,load:zt},Symbol.toStringTag,{value:"Module"}));function Te(u,e,t){const i=u.slice();return i[5]=e[t],i}function He(u,e,t){const i=u.slice();return i[8]=e[t],i}function Oe(u,e,t){const i=u.slice();return i[11]=e[t][0],i[12]=e[t][1],i}function Le(u,e,t){const i=u.slice();return i[15]=e[t],i}function yt(u){let e,t,i,f,a,c,n,l,s,r,h,b,E,g;return{c(){e=_("div"),t=_("div"),i=S("❌"),f=k(),a=_("h3"),c=S("Contact not found"),n=k(),l=_("p"),s=S("The contact you're looking for doesn't exist."),r=k(),h=_("button"),b=S("Back to Contacts"),this.h()},l(I){e=v(I,"DIV",{class:!0});var y=p(e);t=v(y,"DIV",{class:!0});var z=p(t);i=D(z,"❌"),z.forEach(d),f=w(y),a=v(y,"H3",{class:!0});var V=p(a);c=D(V,"Contact not found"),V.forEach(d),n=w(y),l=v(y,"P",{class:!0});var N=p(l);s=D(N,"The contact you're looking for doesn't exist."),N.forEach(d),r=w(y),h=v(y,"BUTTON",{class:!0});var j=p(h);b=D(j,"Back to Contacts"),j.forEach(d),y.forEach(d),this.h()},h(){m(t,"class","text-6xl mb-4 svelte-1b0a1z6"),m(a,"class","text-lg font-medium text-gray-900 mb-2 svelte-1b0a1z6"),m(l,"class","text-gray-600 mb-4 svelte-1b0a1z6"),m(h,"class","btn btn-primary"),m(e,"class","card text-center py-12 svelte-1b0a1z6")},m(I,y){L(I,e,y),o(e,t),o(t,i),o(e,f),o(e,a),o(a,c),o(e,n),o(e,l),o(l,s),o(e,r),o(e,h),o(h,b),E||(g=ke(h,"click",u[2]),E=!0)},p:ue,i:ue,o:ue,d(I){I&&d(e),E=!1,g()}}}function Et(u){let e,t,i,f,a,c,n,l,s=u[0].contact.name+"",r,h,b,E,g,I,y,z,V,N,j,x,B,C,T,A,H,R,M,$,te,ie,ee,se,oe,ce,re,Se,de,De,Ve,q=u[0].contact.position&&Re(u),Y=u[0].contact.company_name&&Fe(u),Q=u[0].contact.email&&Ue(u),W=u[0].contact.phone&&qe(u),G=u[0].contact.agency_type&&Ye(u),J=u[0].contact.confidence_score&&Qe(u),K=u[0].contact.market_areas?.length>0&&We(u),X=u[0].contact.business_context&&Ke(u),F=u[0].scoring&&tt(u),Z=u[0].contact.outreach_history?.length>0&&nt(u);return{c(){e=_("div"),t=_("div"),i=_("h2"),f=S("Contact Information"),a=k(),c=_("div"),n=_("div"),l=_("h3"),r=S(s),h=k(),q&&q.c(),b=k(),Y&&Y.c(),E=k(),g=_("div"),Q&&Q.c(),I=k(),W&&W.c(),y=k(),z=_("div"),V=_("h2"),N=S("Market Intelligence"),j=k(),x=_("div"),G&&G.c(),B=k(),J&&J.c(),C=k(),K&&K.c(),T=k(),X&&X.c(),A=k(),F&&F.c(),H=k(),Z&&Z.c(),R=k(),M=_("div"),$=_("h2"),te=S("Actions"),ie=k(),ee=_("div"),se=_("button"),oe=S("Approve Contact"),ce=k(),re=_("button"),Se=S("Reject Contact"),this.h()},l(P){e=v(P,"DIV",{class:!0});var O=p(e);t=v(O,"DIV",{class:!0});var me=p(t);i=v(me,"H2",{class:!0});var xe=p(i);f=D(xe,"Contact Information"),xe.forEach(d),a=w(me),c=v(me,"DIV",{class:!0});var be=p(c);n=v(be,"DIV",{});var fe=p(n);l=v(fe,"H3",{class:!0});var Ae=p(l);r=D(Ae,s),Ae.forEach(d),h=w(fe),q&&q.l(fe),b=w(fe),Y&&Y.l(fe),fe.forEach(d),E=w(be),g=v(be,"DIV",{class:!0});var ge=p(g);Q&&Q.l(ge),I=w(ge),W&&W.l(ge),ge.forEach(d),be.forEach(d),me.forEach(d),y=w(O),z=v(O,"DIV",{class:!0});var ne=p(z);V=v(ne,"H2",{class:!0});var Pe=p(V);N=D(Pe,"Market Intelligence"),Pe.forEach(d),j=w(ne),x=v(ne,"DIV",{class:!0});var ze=p(x);G&&G.l(ze),B=w(ze),J&&J.l(ze),ze.forEach(d),C=w(ne),K&&K.l(ne),T=w(ne),X&&X.l(ne),ne.forEach(d),A=w(O),F&&F.l(O),H=w(O),Z&&Z.l(O),R=w(O),M=v(O,"DIV",{class:!0});var ye=p(M);$=v(ye,"H2",{class:!0});var Ce=p($);te=D(Ce,"Actions"),Ce.forEach(d),ie=w(ye),ee=v(ye,"DIV",{class:!0});var Ee=p(ee);se=v(Ee,"BUTTON",{class:!0});var Ne=p(se);oe=D(Ne,"Approve Contact"),Ne.forEach(d),ce=w(Ee),re=v(Ee,"BUTTON",{class:!0});var Be=p(re);Se=D(Be,"Reject Contact"),Be.forEach(d),Ee.forEach(d),ye.forEach(d),O.forEach(d),this.h()},h(){m(i,"class","text-xl font-semibold mb-4 svelte-1b0a1z6"),m(l,"class","font-medium text-gray-900 svelte-1b0a1z6"),m(g,"class","space-y-2 svelte-1b0a1z6"),m(c,"class","grid gap-4 md:grid-cols-2 svelte-1b0a1z6"),m(t,"class","card"),m(V,"class","text-xl font-semibold mb-4 svelte-1b0a1z6"),m(x,"class","grid gap-4 md:grid-cols-2 mb-4 svelte-1b0a1z6"),m(z,"class","card"),m($,"class","text-xl font-semibold mb-4 svelte-1b0a1z6"),m(se,"class","btn btn-primary flex-1 svelte-1b0a1z6"),m(re,"class","btn btn-secondary flex-1 svelte-1b0a1z6"),m(ee,"class","flex gap-3 svelte-1b0a1z6"),m(M,"class","card"),m(e,"class","grid gap-6 svelte-1b0a1z6")},m(P,O){L(P,e,O),o(e,t),o(t,i),o(i,f),o(t,a),o(t,c),o(c,n),o(n,l),o(l,r),o(n,h),q&&q.m(n,null),o(n,b),Y&&Y.m(n,null),o(c,E),o(c,g),Q&&Q.m(g,null),o(g,I),W&&W.m(g,null),o(e,y),o(e,z),o(z,V),o(V,N),o(z,j),o(z,x),G&&G.m(x,null),o(x,B),J&&J.m(x,null),o(z,C),K&&K.m(z,null),o(z,T),X&&X.m(z,null),o(e,A),F&&F.m(e,null),o(e,H),Z&&Z.m(e,null),o(e,R),o(e,M),o(M,$),o($,te),o(M,ie),o(M,ee),o(ee,se),o(se,oe),o(ee,ce),o(ee,re),o(re,Se),de=!0,De||(Ve=[ke(se,"click",u[3]),ke(re,"click",u[4])],De=!0)},p(P,O){(!de||O&1)&&s!==(s=P[0].contact.name+"")&&U(r,s),P[0].contact.position?q?q.p(P,O):(q=Re(P),q.c(),q.m(n,b)):q&&(q.d(1),q=null),P[0].contact.company_name?Y?Y.p(P,O):(Y=Fe(P),Y.c(),Y.m(n,null)):Y&&(Y.d(1),Y=null),P[0].contact.email?Q?Q.p(P,O):(Q=Ue(P),Q.c(),Q.m(g,I)):Q&&(Q.d(1),Q=null),P[0].contact.phone?W?W.p(P,O):(W=qe(P),W.c(),W.m(g,null)):W&&(W.d(1),W=null),P[0].contact.agency_type?G?G.p(P,O):(G=Ye(P),G.c(),G.m(x,B)):G&&(G.d(1),G=null),P[0].contact.confidence_score?J?J.p(P,O):(J=Qe(P),J.c(),J.m(x,null)):J&&(J.d(1),J=null),P[0].contact.market_areas?.length>0?K?K.p(P,O):(K=We(P),K.c(),K.m(z,T)):K&&(K.d(1),K=null),P[0].contact.business_context?X?X.p(P,O):(X=Ke(P),X.c(),X.m(z,null)):X&&(X.d(1),X=null),P[0].scoring?F?(F.p(P,O),O&1&&le(F,1)):(F=tt(P),F.c(),le(F,1),F.m(e,H)):F&&(ut(),ae(F,1,1,()=>{F=null}),ft()),P[0].contact.outreach_history?.length>0?Z?Z.p(P,O):(Z=nt(P),Z.c(),Z.m(e,R)):Z&&(Z.d(1),Z=null)},i(P){de||(le(F),de=!0)},o(P){ae(F),de=!1},d(P){P&&d(e),q&&q.d(),Y&&Y.d(),Q&&Q.d(),W&&W.d(),G&&G.d(),J&&J.d(),K&&K.d(),X&&X.d(),F&&F.d(),Z&&Z.d(),De=!1,_t(Ve)}}}function kt(u){let e,t,i,f,a,c,n;return t=new Ie({props:{type:"card",height:"200px"}}),f=new Ie({props:{type:"card",height:"150px"}}),c=new Ie({props:{type:"card",height:"120px"}}),{c(){e=_("div"),he(t.$$.fragment),i=k(),he(f.$$.fragment),a=k(),he(c.$$.fragment),this.h()},l(l){e=v(l,"DIV",{class:!0});var s=p(e);_e(t.$$.fragment,s),i=w(s),_e(f.$$.fragment,s),a=w(s),_e(c.$$.fragment,s),s.forEach(d),this.h()},h(){m(e,"class","space-y-6")},m(l,s){L(l,e,s),ve(t,e,null),o(e,i),ve(f,e,null),o(e,a),ve(c,e,null),n=!0},p:ue,i(l){n||(le(t.$$.fragment,l),le(f.$$.fragment,l),le(c.$$.fragment,l),n=!0)},o(l){ae(t.$$.fragment,l),ae(f.$$.fragment,l),ae(c.$$.fragment,l),n=!1},d(l){l&&d(e),pe(t),pe(f),pe(c)}}}function Re(u){let e,t=u[0].contact.position+"",i;return{c(){e=_("p"),i=S(t),this.h()},l(f){e=v(f,"P",{class:!0});var a=p(e);i=D(a,t),a.forEach(d),this.h()},h(){m(e,"class","text-gray-600 svelte-1b0a1z6")},m(f,a){L(f,e,a),o(e,i)},p(f,a){a&1&&t!==(t=f[0].contact.position+"")&&U(i,t)},d(f){f&&d(e)}}}function Fe(u){let e,t=u[0].contact.company_name+"",i;return{c(){e=_("p"),i=S(t),this.h()},l(f){e=v(f,"P",{class:!0});var a=p(e);i=D(a,t),a.forEach(d),this.h()},h(){m(e,"class","text-gray-600 svelte-1b0a1z6")},m(f,a){L(f,e,a),o(e,i)},p(f,a){a&1&&t!==(t=f[0].contact.company_name+"")&&U(i,t)},d(f){f&&d(e)}}}function Ue(u){let e,t,i,f,a,c=u[0].contact.email+"",n;return{c(){e=_("div"),t=_("span"),i=S("Email:"),f=k(),a=_("p"),n=S(c),this.h()},l(l){e=v(l,"DIV",{class:!0});var s=p(e);t=v(s,"SPAN",{class:!0});var r=p(t);i=D(r,"Email:"),r.forEach(d),f=w(s),a=v(s,"P",{class:!0});var h=p(a);n=D(h,c),h.forEach(d),s.forEach(d),this.h()},h(){m(t,"class","text-sm font-medium text-gray-500 svelte-1b0a1z6"),m(a,"class","text-gray-900 svelte-1b0a1z6"),m(e,"class","svelte-1b0a1z6")},m(l,s){L(l,e,s),o(e,t),o(t,i),o(e,f),o(e,a),o(a,n)},p(l,s){s&1&&c!==(c=l[0].contact.email+"")&&U(n,c)},d(l){l&&d(e)}}}function qe(u){let e,t,i,f,a,c=u[0].contact.phone+"",n;return{c(){e=_("div"),t=_("span"),i=S("Phone:"),f=k(),a=_("p"),n=S(c),this.h()},l(l){e=v(l,"DIV",{class:!0});var s=p(e);t=v(s,"SPAN",{class:!0});var r=p(t);i=D(r,"Phone:"),r.forEach(d),f=w(s),a=v(s,"P",{class:!0});var h=p(a);n=D(h,c),h.forEach(d),s.forEach(d),this.h()},h(){m(t,"class","text-sm font-medium text-gray-500 svelte-1b0a1z6"),m(a,"class","text-gray-900 svelte-1b0a1z6"),m(e,"class","svelte-1b0a1z6")},m(l,s){L(l,e,s),o(e,t),o(t,i),o(e,f),o(e,a),o(a,n)},p(l,s){s&1&&c!==(c=l[0].contact.phone+"")&&U(n,c)},d(l){l&&d(e)}}}function Ye(u){let e,t,i,f,a,c,n=u[0].contact.agency_type.replace("_"," ")+"",l;return{c(){e=_("div"),t=_("span"),i=S("Agency Type:"),f=k(),a=_("div"),c=_("span"),l=S(n),this.h()},l(s){e=v(s,"DIV",{});var r=p(e);t=v(r,"SPAN",{class:!0});var h=p(t);i=D(h,"Agency Type:"),h.forEach(d),f=w(r),a=v(r,"DIV",{class:!0});var b=p(a);c=v(b,"SPAN",{class:!0});var E=p(c);l=D(E,n),E.forEach(d),b.forEach(d),r.forEach(d),this.h()},h(){m(t,"class","text-sm font-medium text-gray-500 svelte-1b0a1z6"),m(c,"class","px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm capitalize svelte-1b0a1z6"),m(a,"class","mt-1")},m(s,r){L(s,e,r),o(e,t),o(t,i),o(e,f),o(e,a),o(a,c),o(c,l)},p(s,r){r&1&&n!==(n=s[0].contact.agency_type.replace("_"," ")+"")&&U(l,n)},d(s){s&&d(e)}}}function Qe(u){let e,t,i,f,a,c,n,l,s,r,h=Math.round(u[0].contact.confidence_score*100)+"",b,E;return{c(){e=_("div"),t=_("span"),i=S("Confidence Score:"),f=k(),a=_("div"),c=_("div"),n=_("div"),s=k(),r=_("span"),b=S(h),E=S("%"),this.h()},l(g){e=v(g,"DIV",{});var I=p(e);t=v(I,"SPAN",{class:!0});var y=p(t);i=D(y,"Confidence Score:"),y.forEach(d),f=w(I),a=v(I,"DIV",{class:!0});var z=p(a);c=v(z,"DIV",{class:!0});var V=p(c);n=v(V,"DIV",{class:!0,style:!0}),p(n).forEach(d),V.forEach(d),s=w(z),r=v(z,"SPAN",{class:!0});var N=p(r);b=D(N,h),E=D(N,"%"),N.forEach(d),z.forEach(d),I.forEach(d),this.h()},h(){m(t,"class","text-sm font-medium text-gray-500 svelte-1b0a1z6"),m(n,"class","bg-success-500 h-2 rounded-full transition-all duration-300 svelte-1b0a1z6"),m(n,"style",l=`width: ${u[0].contact.confidence_score*100}%`),m(c,"class","w-full bg-gray-200 rounded-full h-2 svelte-1b0a1z6"),m(r,"class","text-sm font-medium text-gray-900 svelte-1b0a1z6"),m(a,"class","mt-1 flex items-center gap-2 svelte-1b0a1z6")},m(g,I){L(g,e,I),o(e,t),o(t,i),o(e,f),o(e,a),o(a,c),o(c,n),o(a,s),o(a,r),o(r,b),o(r,E)},p(g,I){I&1&&l!==(l=`width: ${g[0].contact.confidence_score*100}%`)&&m(n,"style",l),I&1&&h!==(h=Math.round(g[0].contact.confidence_score*100)+"")&&U(b,h)},d(g){g&&d(e)}}}function We(u){let e,t,i,f,a,c=u[0].contact.market_areas,n=[];for(let l=0;l<c.length;l+=1)n[l]=Je(Le(u,c,l));return{c(){e=_("div"),t=_("span"),i=S("Market Areas:"),f=k(),a=_("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=v(l,"DIV",{class:!0});var s=p(e);t=v(s,"SPAN",{class:!0});var r=p(t);i=D(r,"Market Areas:"),r.forEach(d),f=w(s),a=v(s,"DIV",{class:!0});var h=p(a);for(let b=0;b<n.length;b+=1)n[b].l(h);h.forEach(d),s.forEach(d),this.h()},h(){m(t,"class","text-sm font-medium text-gray-500 svelte-1b0a1z6"),m(a,"class","mt-2 flex flex-wrap gap-2 svelte-1b0a1z6"),m(e,"class","mb-4 svelte-1b0a1z6")},m(l,s){L(l,e,s),o(e,t),o(t,i),o(e,f),o(e,a);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(a,null)},p(l,s){if(s&1){c=l[0].contact.market_areas;let r;for(r=0;r<c.length;r+=1){const h=Le(l,c,r);n[r]?n[r].p(h,s):(n[r]=Je(h),n[r].c(),n[r].m(a,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=c.length}},d(l){l&&d(e),we(n,l)}}}function Ge(u){let e,t,i=Math.round(u[15].relevance_score*100)+"",f,a;return{c(){e=_("span"),t=S("("),f=S(i),a=S("%)"),this.h()},l(c){e=v(c,"SPAN",{class:!0});var n=p(e);t=D(n,"("),f=D(n,i),a=D(n,"%)"),n.forEach(d),this.h()},h(){m(e,"class","text-xs text-gray-500 ml-1 svelte-1b0a1z6")},m(c,n){L(c,e,n),o(e,t),o(e,f),o(e,a)},p(c,n){n&1&&i!==(i=Math.round(c[15].relevance_score*100)+"")&&U(f,i)},d(c){c&&d(e)}}}function Je(u){let e,t=u[15].name+"",i,f,a,c=u[15].relevance_score&&Ge(u);return{c(){e=_("span"),i=S(t),f=k(),c&&c.c(),a=k(),this.h()},l(n){e=v(n,"SPAN",{class:!0});var l=p(e);i=D(l,t),f=w(l),c&&c.l(l),a=w(l),l.forEach(d),this.h()},h(){m(e,"class","px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm svelte-1b0a1z6")},m(n,l){L(n,e,l),o(e,i),o(e,f),c&&c.m(e,null),o(e,a)},p(n,l){l&1&&t!==(t=n[15].name+"")&&U(i,t),n[15].relevance_score?c?c.p(n,l):(c=Ge(n),c.c(),c.m(e,a)):c&&(c.d(1),c=null)},d(n){n&&d(e),c&&c.d()}}}function Ke(u){let e,t,i,f,a,c,n,l,s=u[0].contact.business_context.company_size&&Xe(u),r=u[0].contact.business_context.portfolio_size&&Ze(u),h=u[0].contact.business_context.specialization&&$e(u),b=u[0].contact.business_context.years_in_business&&et(u);return{c(){e=_("div"),t=_("span"),i=S("Business Context:"),f=k(),a=_("div"),s&&s.c(),c=k(),r&&r.c(),n=k(),h&&h.c(),l=k(),b&&b.c(),this.h()},l(E){e=v(E,"DIV",{});var g=p(e);t=v(g,"SPAN",{class:!0});var I=p(t);i=D(I,"Business Context:"),I.forEach(d),f=w(g),a=v(g,"DIV",{class:!0});var y=p(a);s&&s.l(y),c=w(y),r&&r.l(y),n=w(y),h&&h.l(y),l=w(y),b&&b.l(y),y.forEach(d),g.forEach(d),this.h()},h(){m(t,"class","text-sm font-medium text-gray-500 svelte-1b0a1z6"),m(a,"class","mt-2 grid gap-2 md:grid-cols-2 svelte-1b0a1z6")},m(E,g){L(E,e,g),o(e,t),o(t,i),o(e,f),o(e,a),s&&s.m(a,null),o(a,c),r&&r.m(a,null),o(a,n),h&&h.m(a,null),o(a,l),b&&b.m(a,null)},p(E,g){E[0].contact.business_context.company_size?s?s.p(E,g):(s=Xe(E),s.c(),s.m(a,c)):s&&(s.d(1),s=null),E[0].contact.business_context.portfolio_size?r?r.p(E,g):(r=Ze(E),r.c(),r.m(a,n)):r&&(r.d(1),r=null),E[0].contact.business_context.specialization?h?h.p(E,g):(h=$e(E),h.c(),h.m(a,l)):h&&(h.d(1),h=null),E[0].contact.business_context.years_in_business?b?b.p(E,g):(b=et(E),b.c(),b.m(a,null)):b&&(b.d(1),b=null)},d(E){E&&d(e),s&&s.d(),r&&r.d(),h&&h.d(),b&&b.d()}}}function Xe(u){let e,t,i,f,a,c=u[0].contact.business_context.company_size+"",n;return{c(){e=_("div"),t=_("span"),i=S("Company Size:"),f=k(),a=_("p"),n=S(c),this.h()},l(l){e=v(l,"DIV",{});var s=p(e);t=v(s,"SPAN",{class:!0});var r=p(t);i=D(r,"Company Size:"),r.forEach(d),f=w(s),a=v(s,"P",{class:!0});var h=p(a);n=D(h,c),h.forEach(d),s.forEach(d),this.h()},h(){m(t,"class","text-xs text-gray-500 svelte-1b0a1z6"),m(a,"class","text-sm capitalize svelte-1b0a1z6")},m(l,s){L(l,e,s),o(e,t),o(t,i),o(e,f),o(e,a),o(a,n)},p(l,s){s&1&&c!==(c=l[0].contact.business_context.company_size+"")&&U(n,c)},d(l){l&&d(e)}}}function Ze(u){let e,t,i,f,a,c=u[0].contact.business_context.portfolio_size+"",n,l;return{c(){e=_("div"),t=_("span"),i=S("Portfolio Size:"),f=k(),a=_("p"),n=S(c),l=S(" properties"),this.h()},l(s){e=v(s,"DIV",{});var r=p(e);t=v(r,"SPAN",{class:!0});var h=p(t);i=D(h,"Portfolio Size:"),h.forEach(d),f=w(r),a=v(r,"P",{class:!0});var b=p(a);n=D(b,c),l=D(b," properties"),b.forEach(d),r.forEach(d),this.h()},h(){m(t,"class","text-xs text-gray-500 svelte-1b0a1z6"),m(a,"class","text-sm svelte-1b0a1z6")},m(s,r){L(s,e,r),o(e,t),o(t,i),o(e,f),o(e,a),o(a,n),o(a,l)},p(s,r){r&1&&c!==(c=s[0].contact.business_context.portfolio_size+"")&&U(n,c)},d(s){s&&d(e)}}}function $e(u){let e,t,i,f,a,c=u[0].contact.business_context.specialization+"",n;return{c(){e=_("div"),t=_("span"),i=S("Specialization:"),f=k(),a=_("p"),n=S(c),this.h()},l(l){e=v(l,"DIV",{});var s=p(e);t=v(s,"SPAN",{class:!0});var r=p(t);i=D(r,"Specialization:"),r.forEach(d),f=w(s),a=v(s,"P",{class:!0});var h=p(a);n=D(h,c),h.forEach(d),s.forEach(d),this.h()},h(){m(t,"class","text-xs text-gray-500 svelte-1b0a1z6"),m(a,"class","text-sm svelte-1b0a1z6")},m(l,s){L(l,e,s),o(e,t),o(t,i),o(e,f),o(e,a),o(a,n)},p(l,s){s&1&&c!==(c=l[0].contact.business_context.specialization+"")&&U(n,c)},d(l){l&&d(e)}}}function et(u){let e,t,i,f,a,c=u[0].contact.business_context.years_in_business+"",n,l;return{c(){e=_("div"),t=_("span"),i=S("Years in Business:"),f=k(),a=_("p"),n=S(c),l=S(" years"),this.h()},l(s){e=v(s,"DIV",{});var r=p(e);t=v(r,"SPAN",{class:!0});var h=p(t);i=D(h,"Years in Business:"),h.forEach(d),f=w(r),a=v(r,"P",{class:!0});var b=p(a);n=D(b,c),l=D(b," years"),b.forEach(d),r.forEach(d),this.h()},h(){m(t,"class","text-xs text-gray-500 svelte-1b0a1z6"),m(a,"class","text-sm svelte-1b0a1z6")},m(s,r){L(s,e,r),o(e,t),o(t,i),o(e,f),o(e,a),o(a,n),o(a,l)},p(s,r){r&1&&c!==(c=s[0].contact.business_context.years_in_business+"")&&U(n,c)},d(s){s&&d(e)}}}function tt(u){let e,t,i,f,a,c,n,l,s,r,h,b,E,g,I,y,z=Math.round(u[0].scoring.overall_score*100)+"",V,N,j,x;n=new gt({props:{scores:u[0].scoring.breakdown,overallScore:u[0].scoring.overall_score,size:"medium",showLabels:!0,showValues:!0}});let B=Object.entries(u[0].scoring.breakdown),C=[];for(let A=0;A<B.length;A+=1)C[A]=st(Oe(u,B,A));let T=u[0].scoring.recommendations?.length>0&&lt(u);return{c(){e=_("div"),t=_("h2"),i=S("Scoring Breakdown"),f=k(),a=_("div"),c=_("div"),he(n.$$.fragment),l=k(),s=_("div");for(let A=0;A<C.length;A+=1)C[A].c();r=k(),h=_("div"),b=_("div"),E=_("span"),g=S("Overall Score:"),I=k(),y=_("span"),V=S(z),N=S("%"),j=k(),T&&T.c(),this.h()},l(A){e=v(A,"DIV",{class:!0});var H=p(e);t=v(H,"H2",{class:!0});var R=p(t);i=D(R,"Scoring Breakdown"),R.forEach(d),f=w(H),a=v(H,"DIV",{class:!0});var M=p(a);c=v(M,"DIV",{class:!0});var $=p(c);_e(n.$$.fragment,$),$.forEach(d),l=w(M),s=v(M,"DIV",{class:!0});var te=p(s);for(let ce=0;ce<C.length;ce+=1)C[ce].l(te);r=w(te),h=v(te,"DIV",{class:!0});var ie=p(h);b=v(ie,"DIV",{class:!0});var ee=p(b);E=v(ee,"SPAN",{class:!0});var se=p(E);g=D(se,"Overall Score:"),se.forEach(d),I=w(ee),y=v(ee,"SPAN",{class:!0});var oe=p(y);V=D(oe,z),N=D(oe,"%"),oe.forEach(d),ee.forEach(d),ie.forEach(d),j=w(te),T&&T.l(te),te.forEach(d),M.forEach(d),H.forEach(d),this.h()},h(){m(t,"class","text-xl font-semibold mb-4 svelte-1b0a1z6"),m(c,"class","flex justify-center svelte-1b0a1z6"),m(E,"class","text-lg font-semibold text-gray-900 svelte-1b0a1z6"),m(y,"class","text-lg font-bold text-primary-600 svelte-1b0a1z6"),m(b,"class","flex items-center justify-between svelte-1b0a1z6"),m(h,"class","pt-3 border-t border-gray-200 svelte-1b0a1z6"),m(s,"class","space-y-3 svelte-1b0a1z6"),m(a,"class","grid gap-6 md:grid-cols-2 svelte-1b0a1z6"),m(e,"class","card")},m(A,H){L(A,e,H),o(e,t),o(t,i),o(e,f),o(e,a),o(a,c),ve(n,c,null),o(a,l),o(a,s);for(let R=0;R<C.length;R+=1)C[R]&&C[R].m(s,null);o(s,r),o(s,h),o(h,b),o(b,E),o(E,g),o(b,I),o(b,y),o(y,V),o(y,N),o(s,j),T&&T.m(s,null),x=!0},p(A,H){const R={};if(H&1&&(R.scores=A[0].scoring.breakdown),H&1&&(R.overallScore=A[0].scoring.overall_score),n.$set(R),H&1){B=Object.entries(A[0].scoring.breakdown);let M;for(M=0;M<B.length;M+=1){const $=Oe(A,B,M);C[M]?C[M].p($,H):(C[M]=st($),C[M].c(),C[M].m(s,r))}for(;M<C.length;M+=1)C[M].d(1);C.length=B.length}(!x||H&1)&&z!==(z=Math.round(A[0].scoring.overall_score*100)+"")&&U(V,z),A[0].scoring.recommendations?.length>0?T?T.p(A,H):(T=lt(A),T.c(),T.m(s,null)):T&&(T.d(1),T=null)},i(A){x||(le(n.$$.fragment,A),x=!0)},o(A){ae(n.$$.fragment,A),x=!1},d(A){A&&d(e),pe(n),we(C,A),T&&T.d()}}}function st(u){let e,t,i=u[11].replace("_"," ")+"",f,a,c,n,l,s,r,h,b,E=Math.round(u[12]*100)+"",g,I,y;return{c(){e=_("div"),t=_("span"),f=S(i),a=S(":"),c=k(),n=_("div"),l=_("div"),s=_("div"),h=k(),b=_("span"),g=S(E),I=S("%"),y=k(),this.h()},l(z){e=v(z,"DIV",{class:!0});var V=p(e);t=v(V,"SPAN",{class:!0});var N=p(t);f=D(N,i),a=D(N,":"),N.forEach(d),c=w(V),n=v(V,"DIV",{class:!0});var j=p(n);l=v(j,"DIV",{class:!0});var x=p(l);s=v(x,"DIV",{class:!0,style:!0}),p(s).forEach(d),x.forEach(d),h=w(j),b=v(j,"SPAN",{class:!0});var B=p(b);g=D(B,E),I=D(B,"%"),B.forEach(d),j.forEach(d),y=w(V),V.forEach(d),this.h()},h(){m(t,"class","text-sm font-medium text-gray-700 capitalize svelte-1b0a1z6"),m(s,"class","bg-primary-500 h-2 rounded-full svelte-1b0a1z6"),m(s,"style",r=`width: ${u[12]*100}%`),m(l,"class","w-20 bg-gray-200 rounded-full h-2 svelte-1b0a1z6"),m(b,"class","text-sm font-medium text-gray-900 w-8 svelte-1b0a1z6"),m(n,"class","flex items-center gap-2 svelte-1b0a1z6"),m(e,"class","flex items-center justify-between svelte-1b0a1z6")},m(z,V){L(z,e,V),o(e,t),o(t,f),o(t,a),o(e,c),o(e,n),o(n,l),o(l,s),o(n,h),o(n,b),o(b,g),o(b,I),o(e,y)},p(z,V){V&1&&i!==(i=z[11].replace("_"," ")+"")&&U(f,i),V&1&&r!==(r=`width: ${z[12]*100}%`)&&m(s,"style",r),V&1&&E!==(E=Math.round(z[12]*100)+"")&&U(g,E)},d(z){z&&d(e)}}}function lt(u){let e,t,i,f,a,c=u[0].scoring.recommendations,n=[];for(let l=0;l<c.length;l+=1)n[l]=at(He(u,c,l));return{c(){e=_("div"),t=_("h3"),i=S("Recommendations:"),f=k(),a=_("ul");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=v(l,"DIV",{class:!0});var s=p(e);t=v(s,"H3",{class:!0});var r=p(t);i=D(r,"Recommendations:"),r.forEach(d),f=w(s),a=v(s,"UL",{class:!0});var h=p(a);for(let b=0;b<n.length;b+=1)n[b].l(h);h.forEach(d),s.forEach(d),this.h()},h(){m(t,"class","text-sm font-medium text-gray-700 mb-2 svelte-1b0a1z6"),m(a,"class","space-y-1"),m(e,"class","pt-3 border-t border-gray-200 svelte-1b0a1z6")},m(l,s){L(l,e,s),o(e,t),o(t,i),o(e,f),o(e,a);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(a,null)},p(l,s){if(s&1){c=l[0].scoring.recommendations;let r;for(r=0;r<c.length;r+=1){const h=He(l,c,r);n[r]?n[r].p(h,s):(n[r]=at(h),n[r].c(),n[r].m(a,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=c.length}},d(l){l&&d(e),we(n,l)}}}function at(u){let e,t,i,f,a=u[8]+"",c,n;return{c(){e=_("li"),t=_("span"),i=S("•"),f=k(),c=S(a),n=k(),this.h()},l(l){e=v(l,"LI",{class:!0});var s=p(e);t=v(s,"SPAN",{class:!0});var r=p(t);i=D(r,"•"),r.forEach(d),f=w(s),c=D(s,a),n=w(s),s.forEach(d),this.h()},h(){m(t,"class","text-primary-500 mt-1"),m(e,"class","text-sm text-gray-600 flex items-start gap-2 svelte-1b0a1z6")},m(l,s){L(l,e,s),o(e,t),o(t,i),o(e,f),o(e,c),o(e,n)},p(l,s){s&1&&a!==(a=l[8]+"")&&U(c,a)},d(l){l&&d(e)}}}function nt(u){let e,t,i,f,a,c=u[0].contact.outreach_history,n=[];for(let l=0;l<c.length;l+=1)n[l]=ot(Te(u,c,l));return{c(){e=_("div"),t=_("h2"),i=S("Outreach History"),f=k(),a=_("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){e=v(l,"DIV",{class:!0});var s=p(e);t=v(s,"H2",{class:!0});var r=p(t);i=D(r,"Outreach History"),r.forEach(d),f=w(s),a=v(s,"DIV",{class:!0});var h=p(a);for(let b=0;b<n.length;b+=1)n[b].l(h);h.forEach(d),s.forEach(d),this.h()},h(){m(t,"class","text-xl font-semibold mb-4 svelte-1b0a1z6"),m(a,"class","space-y-3 svelte-1b0a1z6"),m(e,"class","card")},m(l,s){L(l,e,s),o(e,t),o(t,i),o(e,f),o(e,a);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(a,null)},p(l,s){if(s&1){c=l[0].contact.outreach_history;let r;for(r=0;r<c.length;r+=1){const h=Te(l,c,r);n[r]?n[r].p(h,s):(n[r]=ot(h),n[r].c(),n[r].m(a,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=c.length}},d(l){l&&d(e),we(n,l)}}}function ot(u){let e,t,i,f=u[5].method.replace("_"," ")+"",a,c,n,l=new Date(u[5].date).toLocaleDateString()+"",s,r,h,b=u[5].outcome.replace("_"," ")+"",E,g,I;return{c(){e=_("div"),t=_("div"),i=_("span"),a=S(f),c=k(),n=_("span"),s=S(l),r=k(),h=_("span"),E=S(b),I=k(),this.h()},l(y){e=v(y,"DIV",{class:!0});var z=p(e);t=v(z,"DIV",{});var V=p(t);i=v(V,"SPAN",{class:!0});var N=p(i);a=D(N,f),N.forEach(d),c=w(V),n=v(V,"SPAN",{class:!0});var j=p(n);s=D(j,l),j.forEach(d),V.forEach(d),r=w(z),h=v(z,"SPAN",{class:!0});var x=p(h);E=D(x,b),x.forEach(d),I=w(z),z.forEach(d),this.h()},h(){m(i,"class","font-medium text-gray-900 capitalize svelte-1b0a1z6"),m(n,"class","text-sm text-gray-500 ml-2 svelte-1b0a1z6"),m(h,"class",g=je(`px-2 py-1 text-xs rounded-full capitalize ${u[5].outcome==="successful"?"bg-success-100 text-success-800":u[5].outcome==="no_response"?"bg-warning-100 text-warning-800":"bg-error-100 text-error-800"}`)+" svelte-1b0a1z6"),m(e,"class","flex items-center justify-between p-3 bg-gray-50 rounded-lg svelte-1b0a1z6")},m(y,z){L(y,e,z),o(e,t),o(t,i),o(i,a),o(t,c),o(t,n),o(n,s),o(e,r),o(e,h),o(h,E),o(e,I)},p(y,z){z&1&&f!==(f=y[5].method.replace("_"," ")+"")&&U(a,f),z&1&&l!==(l=new Date(y[5].date).toLocaleDateString()+"")&&U(s,l),z&1&&b!==(b=y[5].outcome.replace("_"," ")+"")&&U(E,b),z&1&&g!==(g=je(`px-2 py-1 text-xs rounded-full capitalize ${y[5].outcome==="successful"?"bg-success-100 text-success-800":y[5].outcome==="no_response"?"bg-warning-100 text-warning-800":"bg-error-100 text-error-800"}`)+" svelte-1b0a1z6")&&m(h,"class",g)},d(y){y&&d(e)}}}function wt(u){let e,t,i,f,a,c,n,l,s,r,h,b,E,g,I,y,z;const V=[kt,Et,yt],N=[];function j(x,B){return x[1]?0:x[0]?.contact?1:2}return h=j(u),b=N[h]=V[h](u),g=new pt({}),{c(){e=_("div"),t=_("div"),i=_("header"),f=_("div"),a=_("button"),c=S("← Back to Contacts"),n=k(),l=_("h1"),s=S("Contact Details"),r=k(),b.c(),E=k(),he(g.$$.fragment),this.h()},l(x){e=v(x,"DIV",{class:!0});var B=p(e);t=v(B,"DIV",{class:!0});var C=p(t);i=v(C,"HEADER",{class:!0});var T=p(i);f=v(T,"DIV",{class:!0});var A=p(f);a=v(A,"BUTTON",{class:!0});var H=p(a);c=D(H,"← Back to Contacts"),H.forEach(d),n=w(A),l=v(A,"H1",{class:!0});var R=p(l);s=D(R,"Contact Details"),R.forEach(d),A.forEach(d),T.forEach(d),r=w(C),b.l(C),C.forEach(d),E=w(B),_e(g.$$.fragment,B),B.forEach(d),this.h()},h(){m(a,"class","btn btn-secondary"),m(l,"class","text-2xl font-bold text-gray-900 svelte-1b0a1z6"),m(f,"class","flex items-center gap-4 mb-2 svelte-1b0a1z6"),m(i,"class","mb-6 svelte-1b0a1z6"),m(t,"class","container mx-auto px-4 py-6 svelte-1b0a1z6"),m(e,"class","min-h-screen bg-gray-50 pb-20 svelte-1b0a1z6")},m(x,B){L(x,e,B),o(e,t),o(t,i),o(i,f),o(f,a),o(a,c),o(f,n),o(f,l),o(l,s),o(t,r),N[h].m(t,null),o(e,E),ve(g,e,null),I=!0,y||(z=ke(a,"click",u[2]),y=!0)},p(x,[B]){let C=h;h=j(x),h===C?N[h].p(x,B):(ut(),ae(N[C],1,1,()=>{N[C]=null}),ft(),b=N[h],b?b.p(x,B):(b=N[h]=V[h](x),b.c()),le(b,1),b.m(t,null))},i(x){I||(le(b),le(g.$$.fragment,x),I=!0)},o(x){ae(b),ae(g.$$.fragment,x),I=!1},d(x){x&&d(e),N[h].d(),pe(g),y=!1,z()}}}function St(u,e,t){let{data:i}=e,f=!1;function a(){vt("/contacts")}async function c(){t(1,f=!0);try{console.log("Approving contact:",i.contact.id)}catch(l){console.error("Error approving contact:",l)}finally{t(1,f=!1)}}async function n(){t(1,f=!0);try{console.log("Rejecting contact:",i.contact.id)}catch(l){console.error("Error rejecting contact:",l)}finally{t(1,f=!1)}}return u.$$set=l=>{"data"in l&&t(0,i=l.data)},[i,f,a,c,n]}class Nt extends ct{constructor(e){super(),rt(this,e,St,wt,it,{data:0})}}export{Nt as component,Ct as universal};
